import{bm as _a,bo as Bu,bi as D,bp as En,bq as Fu,br as $u,bs as Wu,bk as ir,bt as Uu,bu as Hu}from"./index-561bdbd4.js";import{f as Vu,g as zu}from"./hooks.module-746ba364.js";function qu(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var ys={},Er={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.walletLogo=void 0;const Gu=(r,e)=>{let t;switch(r){case"standard":return t=e,`data:image/svg+xml,%3Csvg width='${e}' height='${t}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return t=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${t}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return t=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return t=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return t=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return t=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${t}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return t=e,`data:image/svg+xml,%3Csvg width='${e}' height='${t}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Cn.walletLogo=Gu;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.ScopedLocalStorage=void 0;class Qu{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&t.push(i)}t.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}kn.ScopedLocalStorage=Qu;var Gt={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});const Zu=_a;function oo(r,e,t){try{Reflect.apply(r,e,t)}catch(n){setTimeout(()=>{throw n})}}function Yu(r){const e=r.length,t=new Array(e);for(let n=0;n<e;n+=1)t[n]=r[n];return t}let Ku=class extends Zu.EventEmitter{emit(e,...t){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(t.length>0&&([o]=t),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")oo(s,this,t);else{const o=s.length,a=Yu(s);for(let c=0;c<o;c+=1)oo(a[c],this,t)}return!0}};sr.default=Ku;var Mr={},lt={},Ju=Cr;Cr.default=Cr;Cr.stable=ka;Cr.stableStringify=ka;var hn="[...]",Ea="[Circular]",It=[],Et=[];function Ca(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Cr(r,e,t,n){typeof n>"u"&&(n=Ca()),Zi(r,"",0,[],void 0,0,n);var i;try{Et.length===0?i=JSON.stringify(r,e,t):i=JSON.stringify(r,xa(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;It.length!==0;){var s=It.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Ht(r,e,t,n){var i=Object.getOwnPropertyDescriptor(n,t);i.get!==void 0?i.configurable?(Object.defineProperty(n,t,{value:r}),It.push([n,t,e,i])):Et.push([e,t,r]):(n[t]=r,It.push([n,t,e]))}function Zi(r,e,t,n,i,s,o){s+=1;var a;if(typeof r=="object"&&r!==null){for(a=0;a<n.length;a++)if(n[a]===r){Ht(Ea,r,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Ht(hn,r,e,i);return}if(typeof o.edgesLimit<"u"&&t+1>o.edgesLimit){Ht(hn,r,e,i);return}if(n.push(r),Array.isArray(r))for(a=0;a<r.length;a++)Zi(r[a],a,a,n,r,s,o);else{var c=Object.keys(r);for(a=0;a<c.length;a++){var u=c[a];Zi(r[u],u,a,n,r,s,o)}}n.pop()}}function Xu(r,e){return r<e?-1:r>e?1:0}function ka(r,e,t,n){typeof n>"u"&&(n=Ca());var i=Yi(r,"",0,[],void 0,0,n)||r,s;try{Et.length===0?s=JSON.stringify(i,e,t):s=JSON.stringify(i,xa(e),t)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;It.length!==0;){var o=It.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Yi(r,e,t,n,i,s,o){s+=1;var a;if(typeof r=="object"&&r!==null){for(a=0;a<n.length;a++)if(n[a]===r){Ht(Ea,r,e,i);return}try{if(typeof r.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Ht(hn,r,e,i);return}if(typeof o.edgesLimit<"u"&&t+1>o.edgesLimit){Ht(hn,r,e,i);return}if(n.push(r),Array.isArray(r))for(a=0;a<r.length;a++)Yi(r[a],a,a,n,r,s,o);else{var c={},u=Object.keys(r).sort(Xu);for(a=0;a<u.length;a++){var l=u[a];Yi(r[l],l,a,n,r,s,o),c[l]=r[l]}if(typeof i<"u")It.push([i,e,r]),i[e]=c;else return c}n.pop()}}function xa(r){return r=typeof r<"u"?r:function(e,t){return t},function(e,t){if(Et.length>0)for(var n=0;n<Et.length;n++){var i=Et[n];if(i[1]===e&&i[0]===t){t=i[2],Et.splice(n,1);break}}return r.call(this,e,t)}}Object.defineProperty(lt,"__esModule",{value:!0});lt.EthereumProviderError=lt.EthereumRpcError=void 0;const el=Ju;class Ia extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return el.default(this.serialize(),nl,2)}}lt.EthereumRpcError=Ia;class tl extends Ia{constructor(e,t,n){if(!rl(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}lt.EthereumProviderError=tl;function rl(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}function nl(r,e){if(e!=="[Circular]")return e}var gs={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.errorValues=ft.errorCodes=void 0;ft.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};ft.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.serializeError=r.isValidCode=r.getMessageFromCode=r.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=ft,t=lt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};r.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,v=i){if(Number.isInteger(f)){const m=f.toString();if(h(e.errorValues,m))return e.errorValues[m].message;if(u(f))return r.JSON_RPC_SERVER_ERROR_MESSAGE}return v}r.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const v=f.toString();return!!(e.errorValues[v]||u(f))}r.isValidCode=a;function c(f,{fallbackError:v=s,shouldIncludeStack:m=!1}={}){var k,I;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof t.EthereumRpcError)return f.serialize();const w={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const _=f;w.code=_.code,_.message&&typeof _.message=="string"?(w.message=_.message,h(_,"data")&&(w.data=_.data)):(w.message=o(w.code),w.data={originalError:l(f)})}else{w.code=v.code;const _=(k=f)===null||k===void 0?void 0:k.message;w.message=_&&typeof _=="string"?_:v.message,w.data={originalError:l(f)}}const S=(I=f)===null||I===void 0?void 0:I.stack;return m&&f&&S&&typeof S=="string"&&(w.stack=S),w}r.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function l(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,v){return Object.prototype.hasOwnProperty.call(f,v)}})(gs);var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.ethErrors=void 0;const vs=lt,Aa=gs,de=ft;xn.ethErrors={rpc:{parse:r=>Me(de.errorCodes.rpc.parse,r),invalidRequest:r=>Me(de.errorCodes.rpc.invalidRequest,r),invalidParams:r=>Me(de.errorCodes.rpc.invalidParams,r),methodNotFound:r=>Me(de.errorCodes.rpc.methodNotFound,r),internal:r=>Me(de.errorCodes.rpc.internal,r),server:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=r;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Me(e,r)},invalidInput:r=>Me(de.errorCodes.rpc.invalidInput,r),resourceNotFound:r=>Me(de.errorCodes.rpc.resourceNotFound,r),resourceUnavailable:r=>Me(de.errorCodes.rpc.resourceUnavailable,r),transactionRejected:r=>Me(de.errorCodes.rpc.transactionRejected,r),methodNotSupported:r=>Me(de.errorCodes.rpc.methodNotSupported,r),limitExceeded:r=>Me(de.errorCodes.rpc.limitExceeded,r)},provider:{userRejectedRequest:r=>dr(de.errorCodes.provider.userRejectedRequest,r),unauthorized:r=>dr(de.errorCodes.provider.unauthorized,r),unsupportedMethod:r=>dr(de.errorCodes.provider.unsupportedMethod,r),disconnected:r=>dr(de.errorCodes.provider.disconnected,r),chainDisconnected:r=>dr(de.errorCodes.provider.chainDisconnected,r),custom:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:t,data:n}=r;if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string');return new vs.EthereumProviderError(e,t,n)}}};function Me(r,e){const[t,n]=Ma(e);return new vs.EthereumRpcError(r,t||Aa.getMessageFromCode(r),n)}function dr(r,e){const[t,n]=Ma(e);return new vs.EthereumProviderError(r,t||Aa.getMessageFromCode(r),n)}function Ma(r){if(r){if(typeof r=="string")return[r];if(typeof r=="object"&&!Array.isArray(r)){const{message:e,data:t}=r;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,t]}}return[]}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getMessageFromCode=r.serializeError=r.EthereumProviderError=r.EthereumRpcError=r.ethErrors=r.errorCodes=void 0;const e=lt;Object.defineProperty(r,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(r,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const t=gs;Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return t.serializeError}}),Object.defineProperty(r,"getMessageFromCode",{enumerable:!0,get:function(){return t.getMessageFromCode}});const n=xn;Object.defineProperty(r,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=ft;Object.defineProperty(r,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Mr);var or={};Object.defineProperty(or,"__esModule",{value:!0});or.EVENTS=void 0;or.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var ar={},E={},Oa=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0},ao=typeof Symbol<"u"&&Symbol,il=Oa,sl=function(){return typeof ao!="function"||typeof Symbol!="function"||typeof ao("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:il()},ol="Function.prototype.bind called on incompatible ",yi=Array.prototype.slice,al=Object.prototype.toString,cl="[object Function]",ul=function(e){var t=this;if(typeof t!="function"||al.call(t)!==cl)throw new TypeError(ol+t);for(var n=yi.call(arguments,1),i,s=function(){if(this instanceof i){var l=t.apply(this,n.concat(yi.call(arguments)));return Object(l)===l?l:this}else return t.apply(e,n.concat(yi.call(arguments)))},o=Math.max(0,t.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var u=function(){};u.prototype=t.prototype,i.prototype=new u,u.prototype=null}return i},ll=ul,ms=Function.prototype.bind||ll,fl=ms,hl=fl.call(Function.call,Object.prototype.hasOwnProperty),P,Qt=SyntaxError,Ta=Function,Vt=TypeError,gi=function(r){try{return Ta('"use strict"; return ('+r+").constructor;")()}catch{}},kt=Object.getOwnPropertyDescriptor;if(kt)try{kt({},"")}catch{kt=null}var vi=function(){throw new Vt},dl=kt?function(){try{return arguments.callee,vi}catch{try{return kt(arguments,"callee").get}catch{return vi}}}():vi,Dt=sl(),Ve=Object.getPrototypeOf||function(r){return r.__proto__},Bt={},pl=typeof Uint8Array>"u"?P:Ve(Uint8Array),xt={"%AggregateError%":typeof AggregateError>"u"?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?P:ArrayBuffer,"%ArrayIteratorPrototype%":Dt?Ve([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":Bt,"%AsyncGenerator%":Bt,"%AsyncGeneratorFunction%":Bt,"%AsyncIteratorPrototype%":Bt,"%Atomics%":typeof Atomics>"u"?P:Atomics,"%BigInt%":typeof BigInt>"u"?P:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?P:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?P:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?P:Float32Array,"%Float64Array%":typeof Float64Array>"u"?P:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?P:FinalizationRegistry,"%Function%":Ta,"%GeneratorFunction%":Bt,"%Int8Array%":typeof Int8Array>"u"?P:Int8Array,"%Int16Array%":typeof Int16Array>"u"?P:Int16Array,"%Int32Array%":typeof Int32Array>"u"?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dt?Ve(Ve([][Symbol.iterator]())):P,"%JSON%":typeof JSON=="object"?JSON:P,"%Map%":typeof Map>"u"?P:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dt?P:Ve(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?P:Promise,"%Proxy%":typeof Proxy>"u"?P:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?P:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?P:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dt?P:Ve(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dt?Ve(""[Symbol.iterator]()):P,"%Symbol%":Dt?Symbol:P,"%SyntaxError%":Qt,"%ThrowTypeError%":dl,"%TypedArray%":pl,"%TypeError%":Vt,"%Uint8Array%":typeof Uint8Array>"u"?P:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?P:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?P:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?P:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?P:WeakMap,"%WeakRef%":typeof WeakRef>"u"?P:WeakRef,"%WeakSet%":typeof WeakSet>"u"?P:WeakSet};try{null.error}catch(r){var bl=Ve(Ve(r));xt["%Error.prototype%"]=bl}var yl=function r(e){var t;if(e==="%AsyncFunction%")t=gi("async function () {}");else if(e==="%GeneratorFunction%")t=gi("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=gi("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&(t=Ve(i.prototype))}return xt[e]=t,t},co={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Or=ms,dn=hl,gl=Or.call(Function.call,Array.prototype.concat),vl=Or.call(Function.apply,Array.prototype.splice),uo=Or.call(Function.call,String.prototype.replace),pn=Or.call(Function.call,String.prototype.slice),ml=Or.call(Function.call,RegExp.prototype.exec),wl=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Sl=/\\(\\)?/g,_l=function(e){var t=pn(e,0,1),n=pn(e,-1);if(t==="%"&&n!=="%")throw new Qt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Qt("invalid intrinsic syntax, expected opening `%`");var i=[];return uo(e,wl,function(s,o,a,c){i[i.length]=a?uo(c,Sl,"$1"):o||s}),i},El=function(e,t){var n=e,i;if(dn(co,n)&&(i=co[n],n="%"+i[0]+"%"),dn(xt,n)){var s=xt[n];if(s===Bt&&(s=yl(n)),typeof s>"u"&&!t)throw new Vt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Qt("intrinsic "+e+" does not exist!")},In=function(e,t){if(typeof e!="string"||e.length===0)throw new Vt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Vt('"allowMissing" argument must be a boolean');if(ml(/^%?[^%]*%?$/,e)===null)throw new Qt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=_l(e),i=n.length>0?n[0]:"",s=El("%"+i+"%",t),o=s.name,a=s.value,c=!1,u=s.alias;u&&(i=u[0],vl(n,gl([0,1],u)));for(var l=1,h=!0;l<n.length;l+=1){var f=n[l],v=pn(f,0,1),m=pn(f,-1);if((v==='"'||v==="'"||v==="`"||m==='"'||m==="'"||m==="`")&&v!==m)throw new Qt("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",dn(xt,o))a=xt[o];else if(a!=null){if(!(f in a)){if(!t)throw new Vt("base intrinsic for "+e+" exists, but the property is not available.");return}if(kt&&l+1>=n.length){var k=kt(a,f);h=!!k,h&&"get"in k&&!("originalValue"in k.get)?a=k.get:a=a[f]}else h=dn(a,f),a=a[f];h&&!c&&(xt[o]=a)}}return a},Ki={},Cl={get exports(){return Ki},set exports(r){Ki=r}};(function(r){var e=ms,t=In,n=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(i,n),o=t("%Object.getOwnPropertyDescriptor%",!0),a=t("%Object.defineProperty%",!0),c=t("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}r.exports=function(h){var f=s(e,i,arguments);if(o&&a){var v=o(f,"length");v.configurable&&a(f,"length",{value:1+c(0,h.length-(arguments.length-1))})}return f};var u=function(){return s(e,n,arguments)};a?a(r.exports,"apply",{value:u}):r.exports.apply=u})(Cl);var Ra=In,Na=Ki,kl=Na(Ra("String.prototype.indexOf")),An=function(e,t){var n=Ra(e,!!t);return typeof n=="function"&&kl(e,".prototype.")>-1?Na(n):n},ws=typeof Map=="function"&&Map.prototype,mi=Object.getOwnPropertyDescriptor&&ws?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bn=ws&&mi&&typeof mi.get=="function"?mi.get:null,lo=ws&&Map.prototype.forEach,Ss=typeof Set=="function"&&Set.prototype,wi=Object.getOwnPropertyDescriptor&&Ss?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,yn=Ss&&wi&&typeof wi.get=="function"?wi.get:null,fo=Ss&&Set.prototype.forEach,xl=typeof WeakMap=="function"&&WeakMap.prototype,vr=xl?WeakMap.prototype.has:null,Il=typeof WeakSet=="function"&&WeakSet.prototype,mr=Il?WeakSet.prototype.has:null,Al=typeof WeakRef=="function"&&WeakRef.prototype,ho=Al?WeakRef.prototype.deref:null,Ml=Boolean.prototype.valueOf,Ol=Object.prototype.toString,Tl=Function.prototype.toString,Rl=String.prototype.match,_s=String.prototype.slice,ct=String.prototype.replace,Nl=String.prototype.toUpperCase,po=String.prototype.toLowerCase,La=RegExp.prototype.test,bo=Array.prototype.concat,ze=Array.prototype.join,Ll=Array.prototype.slice,yo=Math.floor,Ji=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Si=Object.getOwnPropertySymbols,Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ge=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Zt||"symbol")?Symbol.toStringTag:null,Da=Object.prototype.propertyIsEnumerable,go=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function vo(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||La.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-yo(-r):yo(r);if(n!==r){var i=String(n),s=_s.call(e,i.length+1);return ct.call(i,t,"$&_")+"."+ct.call(ct.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ct.call(e,t,"$&_")}var es=Bu,mo=es.custom,wo=Pa(mo)?mo:null,Dl=function r(e,t,n,i){var s=t||{};if(st(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(st(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=st(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(st(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(st(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Fa(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?vo(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?vo(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=l&&l>0&&typeof e=="object")return ts(e)?"[Array]":"[Object]";var h=Xl(s,n);if(typeof i>"u")i=[];else if(Ba(i,e)>=0)return"[Circular]";function f(he,oe,Ae){if(oe&&(i=Ll.call(i),i.push(oe)),Ae){var ve={depth:s.depth};return st(s,"quoteStyle")&&(ve.quoteStyle=s.quoteStyle),r(he,ve,n+1,i)}return r(he,s,n+1,i)}if(typeof e=="function"&&!So(e)){var v=Vl(e),m=Gr(e,f);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(m.length>0?" { "+ze.call(m,", ")+" }":"")}if(Pa(e)){var k=Zt?ct.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Xi.call(e);return typeof e=="object"&&!Zt?pr(k):k}if(Yl(e)){for(var I="<"+po.call(String(e.nodeName)),w=e.attributes||[],S=0;S<w.length;S++)I+=" "+w[S].name+"="+ja(jl(w[S].value),"double",s);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+po.call(String(e.nodeName))+">",I}if(ts(e)){if(e.length===0)return"[]";var _=Gr(e,f);return h&&!Jl(_)?"["+rs(_,h)+"]":"[ "+ze.call(_,", ")+" ]"}if(Bl(e)){var A=Gr(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Da.call(e,"cause")?"{ ["+String(e)+"] "+ze.call(bo.call("[cause]: "+f(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ze.call(A,", ")+" }"}if(typeof e=="object"&&o){if(wo&&typeof e[wo]=="function"&&es)return es(e,{depth:l-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zl(e)){var F=[];return lo&&lo.call(e,function(he,oe){F.push(f(oe,e,!0)+" => "+f(he,e))}),_o("Map",bn.call(e),F,h)}if(Ql(e)){var q=[];return fo&&fo.call(e,function(he){q.push(f(he,e))}),_o("Set",yn.call(e),q,h)}if(ql(e))return _i("WeakMap");if(Zl(e))return _i("WeakSet");if(Gl(e))return _i("WeakRef");if($l(e))return pr(f(Number(e)));if(Ul(e))return pr(f(Ji.call(e)));if(Wl(e))return pr(Ml.call(e));if(Fl(e))return pr(f(String(e)));if(!Pl(e)&&!So(e)){var W=Gr(e,f),ie=go?go(e)===Object.prototype:e instanceof Object||e.constructor===Object,J=e instanceof Object?"":"null prototype",Z=!ie&&ge&&Object(e)===e&&ge in e?_s.call(bt(e),8,-1):J?"Object":"",re=ie||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",N=re+(Z||J?"["+ze.call(bo.call([],Z||[],J||[]),": ")+"] ":"");return W.length===0?N+"{}":h?N+"{"+rs(W,h)+"}":N+"{ "+ze.call(W,", ")+" }"}return String(e)};function ja(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function jl(r){return ct.call(String(r),/"/g,"&quot;")}function ts(r){return bt(r)==="[object Array]"&&(!ge||!(typeof r=="object"&&ge in r))}function Pl(r){return bt(r)==="[object Date]"&&(!ge||!(typeof r=="object"&&ge in r))}function So(r){return bt(r)==="[object RegExp]"&&(!ge||!(typeof r=="object"&&ge in r))}function Bl(r){return bt(r)==="[object Error]"&&(!ge||!(typeof r=="object"&&ge in r))}function Fl(r){return bt(r)==="[object String]"&&(!ge||!(typeof r=="object"&&ge in r))}function $l(r){return bt(r)==="[object Number]"&&(!ge||!(typeof r=="object"&&ge in r))}function Wl(r){return bt(r)==="[object Boolean]"&&(!ge||!(typeof r=="object"&&ge in r))}function Pa(r){if(Zt)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!Xi)return!1;try{return Xi.call(r),!0}catch{}return!1}function Ul(r){if(!r||typeof r!="object"||!Ji)return!1;try{return Ji.call(r),!0}catch{}return!1}var Hl=Object.prototype.hasOwnProperty||function(r){return r in this};function st(r,e){return Hl.call(r,e)}function bt(r){return Ol.call(r)}function Vl(r){if(r.name)return r.name;var e=Rl.call(Tl.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Ba(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function zl(r){if(!bn||!r||typeof r!="object")return!1;try{bn.call(r);try{yn.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function ql(r){if(!vr||!r||typeof r!="object")return!1;try{vr.call(r,vr);try{mr.call(r,mr)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function Gl(r){if(!ho||!r||typeof r!="object")return!1;try{return ho.call(r),!0}catch{}return!1}function Ql(r){if(!yn||!r||typeof r!="object")return!1;try{yn.call(r);try{bn.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function Zl(r){if(!mr||!r||typeof r!="object")return!1;try{mr.call(r,mr);try{vr.call(r,vr)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function Yl(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Fa(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Fa(_s.call(r,0,e.maxStringLength),e)+n}var i=ct.call(ct.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Kl);return ja(i,"single",e)}function Kl(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+Nl.call(e.toString(16))}function pr(r){return"Object("+r+")"}function _i(r){return r+" { ? }"}function _o(r,e,t,n){var i=n?rs(t,n):ze.call(t,", ");return r+" ("+e+") {"+i+"}"}function Jl(r){for(var e=0;e<r.length;e++)if(Ba(r[e],`
`)>=0)return!1;return!0}function Xl(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=ze.call(Array(r.indent+1)," ");else return null;return{base:t,prev:ze.call(Array(e+1),t)}}function rs(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+ze.call(r,","+t)+`
`+e.prev}function Gr(r,e){var t=ts(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=st(r,i)?e(r[i],r):""}var s=typeof Si=="function"?Si(r):[],o;if(Zt){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in r)st(r,c)&&(t&&String(Number(c))===c&&c<r.length||Zt&&o["$"+c]instanceof Symbol||(La.call(/[^\w$]/,c)?n.push(e(c,r)+": "+e(r[c],r)):n.push(c+": "+e(r[c],r))));if(typeof Si=="function")for(var u=0;u<s.length;u++)Da.call(r,s[u])&&n.push("["+e(s[u])+"]: "+e(r[s[u]],r));return n}var Es=In,cr=An,ef=Dl,tf=Es("%TypeError%"),Qr=Es("%WeakMap%",!0),Zr=Es("%Map%",!0),rf=cr("WeakMap.prototype.get",!0),nf=cr("WeakMap.prototype.set",!0),sf=cr("WeakMap.prototype.has",!0),of=cr("Map.prototype.get",!0),af=cr("Map.prototype.set",!0),cf=cr("Map.prototype.has",!0),Cs=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},uf=function(r,e){var t=Cs(r,e);return t&&t.value},lf=function(r,e,t){var n=Cs(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},ff=function(r,e){return!!Cs(r,e)},hf=function(){var e,t,n,i={assert:function(s){if(!i.has(s))throw new tf("Side channel does not contain "+ef(s))},get:function(s){if(Qr&&s&&(typeof s=="object"||typeof s=="function")){if(e)return rf(e,s)}else if(Zr){if(t)return of(t,s)}else if(n)return uf(n,s)},has:function(s){if(Qr&&s&&(typeof s=="object"||typeof s=="function")){if(e)return sf(e,s)}else if(Zr){if(t)return cf(t,s)}else if(n)return ff(n,s);return!1},set:function(s,o){Qr&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Qr),nf(e,s,o)):Zr?(t||(t=new Zr),af(t,s,o)):(n||(n={key:{},next:null}),lf(n,s,o))}};return i},df=String.prototype.replace,pf=/%20/g,Ei={RFC1738:"RFC1738",RFC3986:"RFC3986"},ks={default:Ei.RFC3986,formatters:{RFC1738:function(r){return df.call(r,pf,"+")},RFC3986:function(r){return String(r)}},RFC1738:Ei.RFC1738,RFC3986:Ei.RFC3986},bf=ks,Ci=Object.prototype.hasOwnProperty,wt=Array.isArray,$e=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),yf=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(wt(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);t.obj[t.prop]=i}}},$a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},gf=function r(e,t,n){if(!t)return e;if(typeof t!="object"){if(wt(e))e.push(t);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Ci.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return wt(e)&&!wt(t)&&(i=$a(e,n)),wt(e)&&wt(t)?(t.forEach(function(s,o){if(Ci.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Ci.call(s,o)?s[o]=r(s[o],a,n):s[o]=a,s},i)},vf=function(e,t){return Object.keys(t).reduce(function(n,i){return n[i]=t[i],n},e)},mf=function(r,e,t){var n=r.replace(/\+/g," ");if(t==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},wf=function(e,t,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===bf.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+$e[u];continue}if(u<2048){a=a+($e[192|u>>6]+$e[128|u&63]);continue}if(u<55296||u>=57344){a=a+($e[224|u>>12]+$e[128|u>>6&63]+$e[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=$e[240|u>>18]+$e[128|u>>12&63]+$e[128|u>>6&63]+$e[128|u&63]}return a},Sf=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(t.push({obj:o,prop:u}),n.push(l))}return yf(t),e},_f=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ef=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Cf=function(e,t){return[].concat(e,t)},kf=function(e,t){if(wt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},Wa={arrayToObject:$a,assign:vf,combine:Cf,compact:Sf,decode:mf,encode:wf,isBuffer:Ef,isRegExp:_f,maybeMap:kf,merge:gf},Ua=hf,sn=Wa,wr=ks,xf=Object.prototype.hasOwnProperty,Eo={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Je=Array.isArray,If=Array.prototype.push,Ha=function(r,e){If.apply(r,Je(e)?e:[e])},Af=Date.prototype.toISOString,Co=wr.default,ye={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:sn.encode,encodeValuesOnly:!1,format:Co,formatter:wr.formatters[Co],indices:!1,serializeDate:function(e){return Af.call(e)},skipNulls:!1,strictNullHandling:!1},Mf=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ki={},Of=function r(e,t,n,i,s,o,a,c,u,l,h,f,v,m,k,I){for(var w=e,S=I,_=0,A=!1;(S=S.get(ki))!==void 0&&!A;){var F=S.get(e);if(_+=1,typeof F<"u"){if(F===_)throw new RangeError("Cyclic object value");A=!0}typeof S.get(ki)>"u"&&(_=0)}if(typeof c=="function"?w=c(t,w):w instanceof Date?w=h(w):n==="comma"&&Je(w)&&(w=sn.maybeMap(w,function(ve){return ve instanceof Date?h(ve):ve})),w===null){if(s)return a&&!m?a(t,ye.encoder,k,"key",f):t;w=""}if(Mf(w)||sn.isBuffer(w)){if(a){var q=m?t:a(t,ye.encoder,k,"key",f);return[v(q)+"="+v(a(w,ye.encoder,k,"value",f))]}return[v(t)+"="+v(String(w))]}var W=[];if(typeof w>"u")return W;var ie;if(n==="comma"&&Je(w))m&&a&&(w=sn.maybeMap(w,a)),ie=[{value:w.length>0?w.join(",")||null:void 0}];else if(Je(c))ie=c;else{var J=Object.keys(w);ie=u?J.sort(u):J}for(var Z=i&&Je(w)&&w.length===1?t+"[]":t,re=0;re<ie.length;++re){var N=ie[re],he=typeof N=="object"&&typeof N.value<"u"?N.value:w[N];if(!(o&&he===null)){var oe=Je(w)?typeof n=="function"?n(Z,N):Z:Z+(l?"."+N:"["+N+"]");I.set(e,_);var Ae=Ua();Ae.set(ki,I),Ha(W,r(he,oe,n,i,s,o,n==="comma"&&m&&Je(w)?null:a,c,u,l,h,f,v,m,k,Ae))}}return W},Tf=function(e){if(!e)return ye;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||ye.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=wr.default;if(typeof e.format<"u"){if(!xf.call(wr.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=wr.formatters[n],s=ye.filter;return(typeof e.filter=="function"||Je(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ye.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ye.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ye.charsetSentinel,delimiter:typeof e.delimiter>"u"?ye.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ye.encode,encoder:typeof e.encoder=="function"?e.encoder:ye.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ye.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ye.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ye.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ye.strictNullHandling}},Rf=function(r,e){var t=r,n=Tf(e),i,s;typeof n.filter=="function"?(s=n.filter,t=s("",t)):Je(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in Eo?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Eo[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(t)),n.sort&&i.sort(n.sort);for(var l=Ua(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&t[f]===null||Ha(o,Of(t[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var v=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),v.length>0?m+v:""},Yt=Wa,ns=Object.prototype.hasOwnProperty,Nf=Array.isArray,ce={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Yt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Lf=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Va=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},Df="utf8=%26%2310003%3B",jf="utf8=%E2%9C%93",Pf=function(e,t){var n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=i.split(t.delimiter,s),a=-1,c,u=t.charset;if(t.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===jf?u="utf-8":o[c]===Df&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],h=l.indexOf("]="),f=h===-1?l.indexOf("="):h+1,v,m;f===-1?(v=t.decoder(l,ce.decoder,u,"key"),m=t.strictNullHandling?null:""):(v=t.decoder(l.slice(0,f),ce.decoder,u,"key"),m=Yt.maybeMap(Va(l.slice(f+1),t),function(k){return t.decoder(k,ce.decoder,u,"value")})),m&&t.interpretNumericEntities&&u==="iso-8859-1"&&(m=Lf(m)),l.indexOf("[]=")>-1&&(m=Nf(m)?[m]:m),ns.call(n,v)?n[v]=Yt.combine(n[v],m):n[v]=m}return n},Bf=function(r,e,t,n){for(var i=n?e:Va(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(i);else{o=t.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!t.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Ff=function(e,t,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!n.plainObjects&&ns.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&ns.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Bf(l,t,n,i)}},$f=function(e){if(!e)return ce;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?ce.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ce.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ce.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ce.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ce.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ce.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ce.comma,decoder:typeof e.decoder=="function"?e.decoder:ce.decoder,delimiter:typeof e.delimiter=="string"||Yt.isRegExp(e.delimiter)?e.delimiter:ce.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ce.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ce.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ce.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ce.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ce.strictNullHandling}},Wf=function(r,e){var t=$f(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var n=typeof r=="string"?Pf(r,t):r,i=t.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Ff(a,n[a],t,typeof r=="string");i=Yt.merge(i,c,t)}return t.allowSparse===!0?i:Yt.compact(i)},Uf=Rf,Hf=Wf,Vf=ks,zf={formats:Vf,parse:Hf,stringify:Uf},Tr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ProviderType=r.RegExpString=r.IntNumber=r.BigIntString=r.AddressString=r.HexString=r.OpaqueType=void 0;function e(){return n=>n}r.OpaqueType=e,r.HexString=e(),r.AddressString=e(),r.BigIntString=e();function t(n){return Math.floor(n)}r.IntNumber=t,r.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(r.ProviderType||(r.ProviderType={}))})(Tr);var qf=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(E,"__esModule",{value:!0});E.isInIFrame=E.createQrUrl=E.getFavicon=E.range=E.isBigNumber=E.ensureParsedJSONObject=E.ensureBN=E.ensureRegExpString=E.ensureIntNumber=E.ensureBuffer=E.ensureAddressString=E.ensureEvenLengthHexString=E.ensureHexString=E.isHexString=E.prepend0x=E.strip0x=E.has0xPrefix=E.hexStringFromIntNumber=E.intNumberFromHexString=E.bigIntStringFromBN=E.hexStringFromBuffer=E.hexStringToUint8Array=E.uint8ArrayToHex=E.randomBytesHex=void 0;const ot=qf(En),Gf=zf,Le=Tr,za=/^[0-9]*$/,qa=/^[a-f0-9]*$/;function Qf(r){return Ga(crypto.getRandomValues(new Uint8Array(r)))}E.randomBytesHex=Qf;function Ga(r){return[...r].map(e=>e.toString(16).padStart(2,"0")).join("")}E.uint8ArrayToHex=Ga;function Zf(r){return new Uint8Array(r.match(/.{1,2}/g).map(e=>parseInt(e,16)))}E.hexStringToUint8Array=Zf;function Yf(r,e=!1){const t=r.toString("hex");return(0,Le.HexString)(e?"0x"+t:t)}E.hexStringFromBuffer=Yf;function Kf(r){return(0,Le.BigIntString)(r.toString(10))}E.bigIntStringFromBN=Kf;function Jf(r){return(0,Le.IntNumber)(new ot.default(Nr(r,!1),16).toNumber())}E.intNumberFromHexString=Jf;function Xf(r){return(0,Le.HexString)("0x"+new ot.default(r).toString(16))}E.hexStringFromIntNumber=Xf;function xs(r){return r.startsWith("0x")||r.startsWith("0X")}E.has0xPrefix=xs;function Mn(r){return xs(r)?r.slice(2):r}E.strip0x=Mn;function Qa(r){return xs(r)?"0x"+r.slice(2):"0x"+r}E.prepend0x=Qa;function Rr(r){if(typeof r!="string")return!1;const e=Mn(r).toLowerCase();return qa.test(e)}E.isHexString=Rr;function Za(r,e=!1){if(typeof r=="string"){const t=Mn(r).toLowerCase();if(qa.test(t))return(0,Le.HexString)(e?"0x"+t:t)}throw new Error(`"${String(r)}" is not a hexadecimal string`)}E.ensureHexString=Za;function Nr(r,e=!1){let t=Za(r,!1);return t.length%2===1&&(t=(0,Le.HexString)("0"+t)),e?(0,Le.HexString)("0x"+t):t}E.ensureEvenLengthHexString=Nr;function eh(r){if(typeof r=="string"){const e=Mn(r).toLowerCase();if(Rr(e)&&e.length===40)return(0,Le.AddressString)(Qa(e))}throw new Error(`Invalid Ethereum address: ${String(r)}`)}E.ensureAddressString=eh;function th(r){if(Buffer.isBuffer(r))return r;if(typeof r=="string")if(Rr(r)){const e=Nr(r,!1);return Buffer.from(e,"hex")}else return Buffer.from(r,"utf8");throw new Error(`Not binary data: ${String(r)}`)}E.ensureBuffer=th;function Ya(r){if(typeof r=="number"&&Number.isInteger(r))return(0,Le.IntNumber)(r);if(typeof r=="string"){if(za.test(r))return(0,Le.IntNumber)(Number(r));if(Rr(r))return(0,Le.IntNumber)(new ot.default(Nr(r,!1),16).toNumber())}throw new Error(`Not an integer: ${String(r)}`)}E.ensureIntNumber=Ya;function rh(r){if(r instanceof RegExp)return(0,Le.RegExpString)(r.toString());throw new Error(`Not a RegExp: ${String(r)}`)}E.ensureRegExpString=rh;function nh(r){if(r!==null&&(ot.default.isBN(r)||Ka(r)))return new ot.default(r.toString(10),10);if(typeof r=="number")return new ot.default(Ya(r));if(typeof r=="string"){if(za.test(r))return new ot.default(r,10);if(Rr(r))return new ot.default(Nr(r,!1),16)}throw new Error(`Not an integer: ${String(r)}`)}E.ensureBN=nh;function ih(r){if(typeof r=="string")return JSON.parse(r);if(typeof r=="object")return r;throw new Error(`Not a JSON string or an object: ${String(r)}`)}E.ensureParsedJSONObject=ih;function Ka(r){if(r==null||typeof r.constructor!="function")return!1;const{constructor:e}=r;return typeof e.config=="function"&&typeof e.EUCLID=="number"}E.isBigNumber=Ka;function sh(r,e){return Array.from({length:e-r},(t,n)=>r+n)}E.range=sh;function oh(){const r=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:t}=document.location,n=r?r.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${t}${n}`}E.getFavicon=oh;function ah(r,e,t,n,i,s){const o=n?"parent-id":"id",a=(0,Gf.stringify)({[o]:r,secret:e,server:t,v:i,chainId:s});return`${t}/#/link?${a}`}E.createQrUrl=ah;function ch(){try{return window.frameElement!==null}catch{return!1}}E.isInIFrame=ch;Object.defineProperty(ar,"__esModule",{value:!0});ar.Session=void 0;const ko=Fu,xo=E,Io="session:id",Ao="session:secret",Mo="session:linked";class Is{constructor(e,t,n,i){this._storage=e,this._id=t||(0,xo.randomBytesHex)(16),this._secret=n||(0,xo.randomBytesHex)(32),this._key=new ko.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const t=e.getItem(Io),n=e.getItem(Mo),i=e.getItem(Ao);return t&&i?new Is(e,t,i,n==="1"):null}static hash(e){return new ko.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Io,this._id),this._storage.setItem(Ao,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Mo,this._linked?"1":"0")}}ar.Session=Is;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.WalletSDKRelayAbstract=Fe.APP_VERSION_KEY=Fe.LOCAL_STORAGE_ADDRESSES_KEY=Fe.WALLET_USER_NAME_KEY=void 0;const Oo=Mr;Fe.WALLET_USER_NAME_KEY="walletUsername";Fe.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Fe.APP_VERSION_KEY="AppVersion";class uh{async makeEthereumJSONRPCRequest(e,t){if(!t)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Oo.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Oo.serializeError)(s);return i})}}Fe.WalletSDKRelayAbstract=uh;const lh=$u,fh=En;function Ja(r){return Buffer.allocUnsafe(r).fill(0)}function Xa(r,e,t){const n=Ja(e);return r=On(r),t?r.length<e?(r.copy(n),n):r.slice(0,e):r.length<e?(r.copy(n,e-r.length),n):r.slice(-e)}function hh(r,e){return Xa(r,e,!0)}function On(r){if(!Buffer.isBuffer(r))if(Array.isArray(r))r=Buffer.from(r);else if(typeof r=="string")ec(r)?r=Buffer.from(bh(tc(r)),"hex"):r=Buffer.from(r);else if(typeof r=="number")r=intToBuffer(r);else if(r==null)r=Buffer.allocUnsafe(0);else if(fh.isBN(r))r=r.toArrayLike(Buffer);else if(r.toArray)r=Buffer.from(r.toArray());else throw new Error("invalid type");return r}function dh(r){return r=On(r),"0x"+r.toString("hex")}function ph(r,e){return r=On(r),e||(e=256),lh("keccak"+e).update(r).digest()}function bh(r){return r.length%2?"0"+r:r}function ec(r){return typeof r=="string"&&r.match(/^0x[0-9A-Fa-f]*$/)}function tc(r){return typeof r=="string"&&r.startsWith("0x")?r.slice(2):r}var rc={zeros:Ja,setLength:Xa,setLengthRight:hh,isHexString:ec,stripHexPrefix:tc,toBuffer:On,bufferToHex:dh,keccak:ph};const At=rc,Ct=En;function nc(r){return r.startsWith("int[")?"int256"+r.slice(3):r==="int"?"int256":r.startsWith("uint[")?"uint256"+r.slice(4):r==="uint"?"uint256":r.startsWith("fixed[")?"fixed128x128"+r.slice(5):r==="fixed"?"fixed128x128":r.startsWith("ufixed[")?"ufixed128x128"+r.slice(6):r==="ufixed"?"ufixed128x128":r}function zt(r){return parseInt(/^\D+(\d+)$/.exec(r)[1],10)}function To(r){var e=/^\D+(\d+)x(\d+)$/.exec(r);return[parseInt(e[1],10),parseInt(e[2],10)]}function ic(r){var e=r.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function St(r){var e=typeof r;if(e==="string")return At.isHexString(r)?new Ct(At.stripHexPrefix(r),16):new Ct(r,10);if(e==="number")return new Ct(r);if(r.toArray)return r;throw new Error("Argument is not a number")}function Ue(r,e){var t,n,i,s;if(r==="address")return Ue("uint160",St(e));if(r==="bool")return Ue("uint8",e?1:0);if(r==="string")return Ue("bytes",new Buffer(e,"utf8"));if(gh(r)){if(typeof e.length>"u")throw new Error("Not an array?");if(t=ic(r),t!=="dynamic"&&t!==0&&e.length>t)throw new Error("Elements exceed array size: "+t);i=[],r=r.slice(0,r.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(Ue(r,e[s]));if(t==="dynamic"){var o=Ue("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(r==="bytes")return e=new Buffer(e),i=Buffer.concat([Ue("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,At.zeros(32-e.length%32)])),i;if(r.startsWith("bytes")){if(t=zt(r),t<1||t>32)throw new Error("Invalid bytes<N> width: "+t);return At.setLengthRight(e,32)}else if(r.startsWith("uint")){if(t=zt(r),t%8||t<8||t>256)throw new Error("Invalid uint<N> width: "+t);if(n=St(e),n.bitLength()>t)throw new Error("Supplied uint exceeds width: "+t+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(r.startsWith("int")){if(t=zt(r),t%8||t<8||t>256)throw new Error("Invalid int<N> width: "+t);if(n=St(e),n.bitLength()>t)throw new Error("Supplied int exceeds width: "+t+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(r.startsWith("ufixed")){if(t=To(r),n=St(e),n<0)throw new Error("Supplied ufixed is negative");return Ue("uint256",n.mul(new Ct(2).pow(new Ct(t[1]))))}else if(r.startsWith("fixed"))return t=To(r),Ue("int256",St(e).mul(new Ct(2).pow(new Ct(t[1]))))}throw new Error("Unsupported or invalid type: "+r)}function yh(r){return r==="string"||r==="bytes"||ic(r)==="dynamic"}function gh(r){return r.lastIndexOf("]")===r.length-1}function vh(r,e){var t=[],n=[],i=32*r.length;for(var s in r){var o=nc(r[s]),a=e[s],c=Ue(o,a);yh(o)?(t.push(Ue("uint256",i)),n.push(c),i+=c.length):t.push(c)}return Buffer.concat(t.concat(n))}function sc(r,e){if(r.length!==e.length)throw new Error("Number of types are not matching the values");for(var t,n,i=[],s=0;s<r.length;s++){var o=nc(r[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(At.setLength(a,20));else if(o.startsWith("bytes")){if(t=zt(o),t<1||t>32)throw new Error("Invalid bytes<N> width: "+t);i.push(At.setLengthRight(a,t))}else if(o.startsWith("uint")){if(t=zt(o),t%8||t<8||t>256)throw new Error("Invalid uint<N> width: "+t);if(n=St(a),n.bitLength()>t)throw new Error("Supplied uint exceeds width: "+t+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",t/8))}else if(o.startsWith("int")){if(t=zt(o),t%8||t<8||t>256)throw new Error("Invalid int<N> width: "+t);if(n=St(a),n.bitLength()>t)throw new Error("Supplied int exceeds width: "+t+" vs "+n.bitLength());i.push(n.toTwos(t).toArrayLike(Buffer,"be",t/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function mh(r,e){return At.keccak(sc(r,e))}var wh={rawEncode:vh,solidityPack:sc,soliditySHA3:mh};const Pe=rc,Sr=wh,oc={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},xi={encodeData(r,e,t,n=!0){const i=["bytes32"],s=[this.hashType(r,t)];if(n){const o=(a,c,u)=>{if(t[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Pe.keccak(this.encodeData(c,u,t,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Pe.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",Pe.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),h=u.map(f=>o(a,l,f));return["bytes32",Pe.keccak(Sr.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[c,u]};for(const a of t[r]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of t[r]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Pe.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Pe.keccak(a),s.push(a);else if(t[o.type]!==void 0)i.push("bytes32"),a=Pe.keccak(this.encodeData(o.type,a,t,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Sr.rawEncode(i,s)},encodeType(r,e){let t="",n=this.findTypeDependencies(r,e).filter(i=>i!==r);n=[r].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);t+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return t},findTypeDependencies(r,e,t=[]){if(r=r.match(/^\w*/)[0],t.includes(r)||e[r]===void 0)return t;t.push(r);for(const n of e[r])for(const i of this.findTypeDependencies(n.type,e,t))!t.includes(i)&&t.push(i);return t},hashStruct(r,e,t,n=!0){return Pe.keccak(this.encodeData(r,e,t,n))},hashType(r,e){return Pe.keccak(this.encodeType(r,e))},sanitizeData(r){const e={};for(const t in oc.properties)r[t]&&(e[t]=r[t]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(r,e=!0){const t=this.sanitizeData(r),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",t.domain,t.types,e)),t.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(t.primaryType,t.message,t.types,e)),Pe.keccak(Buffer.concat(n))}};var Sh={TYPED_MESSAGE_SCHEMA:oc,TypedDataUtils:xi,hashForSignTypedDataLegacy:function(r){return _h(r.data)},hashForSignTypedData_v3:function(r){return xi.hash(r.data,!1)},hashForSignTypedData_v4:function(r){return xi.hash(r.data)}};function _h(r){const e=new Error("Expect argument to be non-empty array");if(typeof r!="object"||!r.length)throw e;const t=r.map(function(s){return s.type==="bytes"?Pe.toBuffer(s.value):s.value}),n=r.map(function(s){return s.type}),i=r.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Sr.soliditySHA3(["bytes32","bytes32"],[Sr.soliditySHA3(new Array(r.length).fill("string"),i),Sr.soliditySHA3(n,t)])}var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.filterFromParam=Kt.FilterPolyfill=void 0;const Ft=Tr,we=E,Eh=5*60*1e3,_t={jsonrpc:"2.0",id:0};class Ch{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Ft.IntNumber)(1),this.provider=e}async newFilter(e){const t=ac(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,t.fromBlock);return console.log(`Installing new log filter(${n}):`,t,"initial cursor position:",i),this.logFilters.set(n,t),this.setFilterTimeout(n),(0,we.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.blockFilters.add(e),this.setFilterTimeout(e),(0,we.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,we.hexStringFromIntNumber)(e)}uninstallFilter(e){const t=(0,we.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${t})`),this.deleteFilter(t),!0}getFilterChanges(e){const t=(0,we.intNumberFromHexString)(e);return this.timeouts.has(t)&&this.setFilterTimeout(t),this.logFilters.has(t)?this.getLogFilterChanges(t):this.blockFilters.has(t)?this.getBlockFilterChanges(t):this.pendingTransactionFilters.has(t)?this.getPendingTransactionFilterChanges(t):Promise.resolve(Yr())}async getFilterLogs(e){const t=(0,we.intNumberFromHexString)(e),n=this.logFilters.get(t);return n?this.sendAsyncPromise(Object.assign(Object.assign({},_t),{method:"eth_getLogs",params:[Ro(n)]})):Yr()}makeFilterId(){return(0,Ft.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((t,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));t(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const t=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!t)return Yr();const i=await this.getCurrentBlockHeight(),s=t.toBlock==="latest"?i:t.toBlock;if(n>i||n>t.toBlock)return Kr();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},_t),{method:"eth_getLogs",params:[Ro(Object.assign(Object.assign({},t),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,we.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,Ft.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const t=this.cursors.get(e);if(!t)return Yr();const n=await this.getCurrentBlockHeight();if(t>n)return Kr();console.log(`Fetching blocks from ${t} to ${n} for filter (${e})`);const i=(await Promise.all((0,we.range)(t,n+1).map(o=>this.getBlockHashByNumber((0,Ft.IntNumber)(o))))).filter(o=>!!o),s=(0,Ft.IntNumber)(t+i.length);return console.log(`Moving cursor position for filter (${e}) from ${t} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},_t),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Kr())}async setInitialCursorPosition(e,t){const n=await this.getCurrentBlockHeight(),i=typeof t=="number"&&t>n?t:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Eh);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},_t),{method:"eth_blockNumber",params:[]}));return(0,we.intNumberFromHexString)((0,we.ensureHexString)(e))}async getBlockHashByNumber(e){const t=await this.sendAsyncPromise(Object.assign(Object.assign({},_t),{method:"eth_getBlockByNumber",params:[(0,we.hexStringFromIntNumber)(e),!1]}));return t.result&&typeof t.result.hash=="string"?(0,we.ensureHexString)(t.result.hash):null}}Kt.FilterPolyfill=Ch;function ac(r){return{fromBlock:No(r.fromBlock),toBlock:No(r.toBlock),addresses:r.address===void 0?null:Array.isArray(r.address)?r.address:[r.address],topics:r.topics||[]}}Kt.filterFromParam=ac;function Ro(r){const e={fromBlock:Lo(r.fromBlock),toBlock:Lo(r.toBlock),topics:r.topics};return r.addresses!==null&&(e.address=r.addresses),e}function No(r){if(r===void 0||r==="latest"||r==="pending")return"latest";if(r==="earliest")return(0,Ft.IntNumber)(0);if((0,we.isHexString)(r))return(0,we.intNumberFromHexString)(r);throw new Error(`Invalid block option: ${String(r)}`)}function Lo(r){return r==="latest"?r:(0,we.hexStringFromIntNumber)(r)}function Yr(){return Object.assign(Object.assign({},_t),{error:{code:-32e3,message:"filter not found"}})}function Kr(){return Object.assign(Object.assign({},_t),{result:[]})}var cc={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(r.JSONRPCMethod||(r.JSONRPCMethod={}))})(cc);var Tn={};const Do=(r,e)=>function(){const t=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new t((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),r.apply(this,n)})};var kh=(r,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const t=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof r=="function"?n=function(){return e.excludeMain?r.apply(this,arguments):Do(r,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(r));for(const i in r){const s=r[i];n[i]=typeof s=="function"&&t(i)?Do(s,e):s}return n},xh=Ah,Ih=Object.prototype.hasOwnProperty;function Ah(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)Ih.call(t,n)&&(r[n]=t[n])}return r}var Mh=Oh;function Oh(r){r=r||{};var e=r.max||Number.MAX_SAFE_INTEGER,t=typeof r.start<"u"?r.start:Math.floor(Math.random()*e);return function(){return t=t%e,t++}}const Th=xh,Rh=Mh();var Nh=M;function M(r){const e=this;e.currentProvider=r}M.prototype.getBalance=Lr(2,"eth_getBalance");M.prototype.getCode=Lr(2,"eth_getCode");M.prototype.getTransactionCount=Lr(2,"eth_getTransactionCount");M.prototype.getStorageAt=Lr(3,"eth_getStorageAt");M.prototype.call=Lr(2,"eth_call");M.prototype.protocolVersion=L("eth_protocolVersion");M.prototype.syncing=L("eth_syncing");M.prototype.coinbase=L("eth_coinbase");M.prototype.mining=L("eth_mining");M.prototype.hashrate=L("eth_hashrate");M.prototype.gasPrice=L("eth_gasPrice");M.prototype.accounts=L("eth_accounts");M.prototype.blockNumber=L("eth_blockNumber");M.prototype.getBlockTransactionCountByHash=L("eth_getBlockTransactionCountByHash");M.prototype.getBlockTransactionCountByNumber=L("eth_getBlockTransactionCountByNumber");M.prototype.getUncleCountByBlockHash=L("eth_getUncleCountByBlockHash");M.prototype.getUncleCountByBlockNumber=L("eth_getUncleCountByBlockNumber");M.prototype.sign=L("eth_sign");M.prototype.sendTransaction=L("eth_sendTransaction");M.prototype.sendRawTransaction=L("eth_sendRawTransaction");M.prototype.estimateGas=L("eth_estimateGas");M.prototype.getBlockByHash=L("eth_getBlockByHash");M.prototype.getBlockByNumber=L("eth_getBlockByNumber");M.prototype.getTransactionByHash=L("eth_getTransactionByHash");M.prototype.getTransactionByBlockHashAndIndex=L("eth_getTransactionByBlockHashAndIndex");M.prototype.getTransactionByBlockNumberAndIndex=L("eth_getTransactionByBlockNumberAndIndex");M.prototype.getTransactionReceipt=L("eth_getTransactionReceipt");M.prototype.getUncleByBlockHashAndIndex=L("eth_getUncleByBlockHashAndIndex");M.prototype.getUncleByBlockNumberAndIndex=L("eth_getUncleByBlockNumberAndIndex");M.prototype.getCompilers=L("eth_getCompilers");M.prototype.compileLLL=L("eth_compileLLL");M.prototype.compileSolidity=L("eth_compileSolidity");M.prototype.compileSerpent=L("eth_compileSerpent");M.prototype.newFilter=L("eth_newFilter");M.prototype.newBlockFilter=L("eth_newBlockFilter");M.prototype.newPendingTransactionFilter=L("eth_newPendingTransactionFilter");M.prototype.uninstallFilter=L("eth_uninstallFilter");M.prototype.getFilterChanges=L("eth_getFilterChanges");M.prototype.getFilterLogs=L("eth_getFilterLogs");M.prototype.getLogs=L("eth_getLogs");M.prototype.getWork=L("eth_getWork");M.prototype.submitWork=L("eth_submitWork");M.prototype.submitHashrate=L("eth_submitHashrate");M.prototype.sendAsync=function(r,e){this.currentProvider.sendAsync(Lh(r),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function L(r){return function(){const e=this;var t=[].slice.call(arguments),n=t.pop();e.sendAsync({method:r,params:t},n)}}function Lr(r,e){return function(){const t=this;var n=[].slice.call(arguments),i=n.pop();n.length<r&&n.push("latest"),t.sendAsync({method:e,params:n},i)}}function Lh(r){return Th({id:Rh(),jsonrpc:"2.0",params:[]},r)}var uc={},lc={},Dh=Oa,Rn=function(){return Dh()&&!!Symbol.toStringTag},jh=Rn(),Ph=An,is=Ph("Object.prototype.toString"),Nn=function(e){return jh&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:is(e)==="[object Arguments]"},fc=function(e){return Nn(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&is(e)!=="[object Array]"&&is(e.callee)==="[object Function]"},Bh=function(){return Nn(arguments)}();Nn.isLegacyArguments=fc;var Fh=Bh?Nn:fc,$h=Object.prototype.toString,Wh=Function.prototype.toString,Uh=/^\s*(?:function)?\*/,hc=Rn(),Ii=Object.getPrototypeOf,Hh=function(){if(!hc)return!1;try{return Function("return function*() {}")()}catch{}},Ai,Vh=function(e){if(typeof e!="function")return!1;if(Uh.test(Wh.call(e)))return!0;if(!hc){var t=$h.call(e);return t==="[object GeneratorFunction]"}if(!Ii)return!1;if(typeof Ai>"u"){var n=Hh();Ai=n?Ii(n):!1}return Ii(e)===Ai},dc=Function.prototype.toString,$t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ss,on;if(typeof $t=="function"&&typeof Object.defineProperty=="function")try{ss=Object.defineProperty({},"length",{get:function(){throw on}}),on={},$t(function(){throw 42},null,ss)}catch(r){r!==on&&($t=null)}else $t=null;var zh=/^\s*class\b/,os=function(e){try{var t=dc.call(e);return zh.test(t)}catch{return!1}},Mi=function(e){try{return os(e)?!1:(dc.call(e),!0)}catch{return!1}},an=Object.prototype.toString,qh="[object Object]",Gh="[object Function]",Qh="[object GeneratorFunction]",Zh="[object HTMLAllCollection]",Yh="[object HTML document.all class]",Kh="[object HTMLCollection]",Jh=typeof Symbol=="function"&&!!Symbol.toStringTag,Xh=!(0 in[,]),as=function(){return!1};if(typeof document=="object"){var ed=document.all;an.call(ed)===an.call(document.all)&&(as=function(e){if((Xh||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=an.call(e);return(t===Zh||t===Yh||t===Kh||t===qh)&&e("")==null}catch{}return!1})}var td=$t?function(e){if(as(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{$t(e,null,ss)}catch(t){if(t!==on)return!1}return!os(e)&&Mi(e)}:function(e){if(as(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Jh)return Mi(e);if(os(e))return!1;var t=an.call(e);return t!==Gh&&t!==Qh&&!/^\[object HTML/.test(t)?!1:Mi(e)},rd=td,nd=Object.prototype.toString,pc=Object.prototype.hasOwnProperty,id=function(e,t,n){for(var i=0,s=e.length;i<s;i++)pc.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},sd=function(e,t,n){for(var i=0,s=e.length;i<s;i++)n==null?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},od=function(e,t,n){for(var i in e)pc.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},ad=function(e,t,n){if(!rd(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),nd.call(e)==="[object Array]"?id(e,t,i):typeof e=="string"?sd(e,t,i):od(e,t,i)},bc=ad,Oi=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],cd=typeof globalThis>"u"?D:globalThis,yc=function(){for(var e=[],t=0;t<Oi.length;t++)typeof cd[Oi[t]]=="function"&&(e[e.length]=Oi[t]);return e},ud=In,cn=ud("%Object.getOwnPropertyDescriptor%",!0);if(cn)try{cn([],"length")}catch{cn=null}var gc=cn,vc=bc,ld=yc,As=An,fd=As("Object.prototype.toString"),mc=Rn(),un=gc,hd=typeof globalThis>"u"?D:globalThis,wc=ld(),dd=As("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},pd=As("String.prototype.slice"),Sc={},Ti=Object.getPrototypeOf;mc&&un&&Ti&&vc(wc,function(r){var e=new hd[r];if(Symbol.toStringTag in e){var t=Ti(e),n=un(t,Symbol.toStringTag);if(!n){var i=Ti(t);n=un(i,Symbol.toStringTag)}Sc[r]=n.get}});var bd=function(e){var t=!1;return vc(Sc,function(n,i){if(!t)try{t=n.call(e)===i}catch{}}),t},_c=function(e){if(!e||typeof e!="object")return!1;if(!mc||!(Symbol.toStringTag in e)){var t=pd(fd(e),8,-1);return dd(wc,t)>-1}return un?bd(e):!1},Ec=bc,yd=yc,Cc=An,Ri=gc,gd=Cc("Object.prototype.toString"),kc=Rn(),jo=typeof globalThis>"u"?D:globalThis,vd=yd(),md=Cc("String.prototype.slice"),xc={},Ni=Object.getPrototypeOf;kc&&Ri&&Ni&&Ec(vd,function(r){if(typeof jo[r]=="function"){var e=new jo[r];if(Symbol.toStringTag in e){var t=Ni(e),n=Ri(t,Symbol.toStringTag);if(!n){var i=Ni(t);n=Ri(i,Symbol.toStringTag)}xc[r]=n.get}}});var wd=function(e){var t=!1;return Ec(xc,function(n,i){if(!t)try{var s=n.call(e);s===i&&(t=s)}catch{}}),t},Sd=_c,_d=function(e){return Sd(e)?!kc||!(Symbol.toStringTag in e)?md(gd(e),8,-1):wd(e):!1};(function(r){var e=Fh,t=Vh,n=_d,i=_c;function s(b){return b.call.bind(b)}var o=typeof BigInt<"u",a=typeof Symbol<"u",c=s(Object.prototype.toString),u=s(Number.prototype.valueOf),l=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(o)var f=s(BigInt.prototype.valueOf);if(a)var v=s(Symbol.prototype.valueOf);function m(b,Pu){if(typeof b!="object")return!1;try{return Pu(b),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function k(b){return typeof Promise<"u"&&b instanceof Promise||b!==null&&typeof b=="object"&&typeof b.then=="function"&&typeof b.catch=="function"}r.isPromise=k;function I(b){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(b):i(b)||p(b)}r.isArrayBufferView=I;function w(b){return n(b)==="Uint8Array"}r.isUint8Array=w;function S(b){return n(b)==="Uint8ClampedArray"}r.isUint8ClampedArray=S;function _(b){return n(b)==="Uint16Array"}r.isUint16Array=_;function A(b){return n(b)==="Uint32Array"}r.isUint32Array=A;function F(b){return n(b)==="Int8Array"}r.isInt8Array=F;function q(b){return n(b)==="Int16Array"}r.isInt16Array=q;function W(b){return n(b)==="Int32Array"}r.isInt32Array=W;function ie(b){return n(b)==="Float32Array"}r.isFloat32Array=ie;function J(b){return n(b)==="Float64Array"}r.isFloat64Array=J;function Z(b){return n(b)==="BigInt64Array"}r.isBigInt64Array=Z;function re(b){return n(b)==="BigUint64Array"}r.isBigUint64Array=re;function N(b){return c(b)==="[object Map]"}N.working=typeof Map<"u"&&N(new Map);function he(b){return typeof Map>"u"?!1:N.working?N(b):b instanceof Map}r.isMap=he;function oe(b){return c(b)==="[object Set]"}oe.working=typeof Set<"u"&&oe(new Set);function Ae(b){return typeof Set>"u"?!1:oe.working?oe(b):b instanceof Set}r.isSet=Ae;function ve(b){return c(b)==="[object WeakMap]"}ve.working=typeof WeakMap<"u"&&ve(new WeakMap);function bi(b){return typeof WeakMap>"u"?!1:ve.working?ve(b):b instanceof WeakMap}r.isWeakMap=bi;function Rt(b){return c(b)==="[object WeakSet]"}Rt.working=typeof WeakSet<"u"&&Rt(new WeakSet);function Ye(b){return Rt(b)}r.isWeakSet=Ye;function Nt(b){return c(b)==="[object ArrayBuffer]"}Nt.working=typeof ArrayBuffer<"u"&&Nt(new ArrayBuffer);function Vr(b){return typeof ArrayBuffer>"u"?!1:Nt.working?Nt(b):b instanceof ArrayBuffer}r.isArrayBuffer=Vr;function d(b){return c(b)==="[object DataView]"}d.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&d(new DataView(new ArrayBuffer(1),0,1));function p(b){return typeof DataView>"u"?!1:d.working?d(b):b instanceof DataView}r.isDataView=p;var g=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function O(b){return c(b)==="[object SharedArrayBuffer]"}function U(b){return typeof g>"u"?!1:(typeof O.working>"u"&&(O.working=O(new g)),O.working?O(b):b instanceof g)}r.isSharedArrayBuffer=U;function V(b){return c(b)==="[object AsyncFunction]"}r.isAsyncFunction=V;function j(b){return c(b)==="[object Map Iterator]"}r.isMapIterator=j;function $(b){return c(b)==="[object Set Iterator]"}r.isSetIterator=$;function z(b){return c(b)==="[object Generator]"}r.isGeneratorObject=z;function Ee(b){return c(b)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=Ee;function yt(b){return m(b,u)}r.isNumberObject=yt;function zr(b){return m(b,l)}r.isStringObject=zr;function Lt(b){return m(b,h)}r.isBooleanObject=Lt;function qr(b){return o&&m(b,f)}r.isBigIntObject=qr;function so(b){return a&&m(b,v)}r.isSymbolObject=so;function Du(b){return yt(b)||zr(b)||Lt(b)||qr(b)||so(b)}r.isBoxedPrimitive=Du;function ju(b){return typeof Uint8Array<"u"&&(Vr(b)||U(b))}r.isAnyArrayBuffer=ju,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(b){Object.defineProperty(r,b,{enumerable:!1,value:function(){throw new Error(b+" is not supported in userland")}})})})(lc);var Ed=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(r){var e=Object.getOwnPropertyDescriptors||function(p){for(var g=Object.keys(p),O={},U=0;U<g.length;U++)O[g[U]]=Object.getOwnPropertyDescriptor(p,g[U]);return O},t=/%[sdj%]/g;r.format=function(d){if(!F(d)){for(var p=[],g=0;g<arguments.length;g++)p.push(o(arguments[g]));return p.join(" ")}for(var g=1,O=arguments,U=O.length,V=String(d).replace(t,function($){if($==="%%")return"%";if(g>=U)return $;switch($){case"%s":return String(O[g++]);case"%d":return Number(O[g++]);case"%j":try{return JSON.stringify(O[g++])}catch{return"[Circular]"}default:return $}}),j=O[g];g<U;j=O[++g])S(j)||!J(j)?V+=" "+j:V+=" "+o(j);return V},r.deprecate=function(d,p){if(typeof process<"u"&&process.noDeprecation===!0)return d;if(typeof process>"u")return function(){return r.deprecate(d,p).apply(this,arguments)};var g=!1;function O(){if(!g){if(process.throwDeprecation)throw new Error(p);process.traceDeprecation?console.trace(p):console.error(p),g=!0}return d.apply(this,arguments)}return O};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(d){if(d=d.toUpperCase(),!n[d])if(i.test(d)){var p=process.pid;n[d]=function(){var g=r.format.apply(r,arguments);console.error("%s %d: %s",d,p,g)}}else n[d]=function(){};return n[d]};function o(d,p){var g={seen:[],stylize:c};return arguments.length>=3&&(g.depth=arguments[2]),arguments.length>=4&&(g.colors=arguments[3]),w(p)?g.showHidden=p:p&&r._extend(g,p),W(g.showHidden)&&(g.showHidden=!1),W(g.depth)&&(g.depth=2),W(g.colors)&&(g.colors=!1),W(g.customInspect)&&(g.customInspect=!0),g.colors&&(g.stylize=a),l(g,d,g.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(d,p){var g=o.styles[p];return g?"\x1B["+o.colors[g][0]+"m"+d+"\x1B["+o.colors[g][1]+"m":d}function c(d,p){return d}function u(d){var p={};return d.forEach(function(g,O){p[g]=!0}),p}function l(d,p,g){if(d.customInspect&&p&&N(p.inspect)&&p.inspect!==r.inspect&&!(p.constructor&&p.constructor.prototype===p)){var O=p.inspect(g,d);return F(O)||(O=l(d,O,g)),O}var U=h(d,p);if(U)return U;var V=Object.keys(p),j=u(V);if(d.showHidden&&(V=Object.getOwnPropertyNames(p)),re(p)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return f(p);if(V.length===0){if(N(p)){var $=p.name?": "+p.name:"";return d.stylize("[Function"+$+"]","special")}if(ie(p))return d.stylize(RegExp.prototype.toString.call(p),"regexp");if(Z(p))return d.stylize(Date.prototype.toString.call(p),"date");if(re(p))return f(p)}var z="",Ee=!1,yt=["{","}"];if(I(p)&&(Ee=!0,yt=["[","]"]),N(p)){var zr=p.name?": "+p.name:"";z=" [Function"+zr+"]"}if(ie(p)&&(z=" "+RegExp.prototype.toString.call(p)),Z(p)&&(z=" "+Date.prototype.toUTCString.call(p)),re(p)&&(z=" "+f(p)),V.length===0&&(!Ee||p.length==0))return yt[0]+z+yt[1];if(g<0)return ie(p)?d.stylize(RegExp.prototype.toString.call(p),"regexp"):d.stylize("[Object]","special");d.seen.push(p);var Lt;return Ee?Lt=v(d,p,g,j,V):Lt=V.map(function(qr){return m(d,p,g,j,qr,Ee)}),d.seen.pop(),k(Lt,z,yt)}function h(d,p){if(W(p))return d.stylize("undefined","undefined");if(F(p)){var g="'"+JSON.stringify(p).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d.stylize(g,"string")}if(A(p))return d.stylize(""+p,"number");if(w(p))return d.stylize(""+p,"boolean");if(S(p))return d.stylize("null","null")}function f(d){return"["+Error.prototype.toString.call(d)+"]"}function v(d,p,g,O,U){for(var V=[],j=0,$=p.length;j<$;++j)Rt(p,String(j))?V.push(m(d,p,g,O,String(j),!0)):V.push("");return U.forEach(function(z){z.match(/^\d+$/)||V.push(m(d,p,g,O,z,!0))}),V}function m(d,p,g,O,U,V){var j,$,z;if(z=Object.getOwnPropertyDescriptor(p,U)||{value:p[U]},z.get?z.set?$=d.stylize("[Getter/Setter]","special"):$=d.stylize("[Getter]","special"):z.set&&($=d.stylize("[Setter]","special")),Rt(O,U)||(j="["+U+"]"),$||(d.seen.indexOf(z.value)<0?(S(g)?$=l(d,z.value,null):$=l(d,z.value,g-1),$.indexOf(`
`)>-1&&(V?$=$.split(`
`).map(function(Ee){return"  "+Ee}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(Ee){return"   "+Ee}).join(`
`))):$=d.stylize("[Circular]","special")),W(j)){if(V&&U.match(/^\d+$/))return $;j=JSON.stringify(""+U),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=d.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=d.stylize(j,"string"))}return j+": "+$}function k(d,p,g){var O=d.reduce(function(U,V){return V.indexOf(`
`)>=0,U+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return O>60?g[0]+(p===""?"":p+`
 `)+" "+d.join(`,
  `)+" "+g[1]:g[0]+p+" "+d.join(", ")+" "+g[1]}r.types=lc;function I(d){return Array.isArray(d)}r.isArray=I;function w(d){return typeof d=="boolean"}r.isBoolean=w;function S(d){return d===null}r.isNull=S;function _(d){return d==null}r.isNullOrUndefined=_;function A(d){return typeof d=="number"}r.isNumber=A;function F(d){return typeof d=="string"}r.isString=F;function q(d){return typeof d=="symbol"}r.isSymbol=q;function W(d){return d===void 0}r.isUndefined=W;function ie(d){return J(d)&&oe(d)==="[object RegExp]"}r.isRegExp=ie,r.types.isRegExp=ie;function J(d){return typeof d=="object"&&d!==null}r.isObject=J;function Z(d){return J(d)&&oe(d)==="[object Date]"}r.isDate=Z,r.types.isDate=Z;function re(d){return J(d)&&(oe(d)==="[object Error]"||d instanceof Error)}r.isError=re,r.types.isNativeError=re;function N(d){return typeof d=="function"}r.isFunction=N;function he(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||typeof d=="symbol"||typeof d>"u"}r.isPrimitive=he,r.isBuffer=Ed;function oe(d){return Object.prototype.toString.call(d)}function Ae(d){return d<10?"0"+d.toString(10):d.toString(10)}var ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function bi(){var d=new Date,p=[Ae(d.getHours()),Ae(d.getMinutes()),Ae(d.getSeconds())].join(":");return[d.getDate(),ve[d.getMonth()],p].join(" ")}r.log=function(){console.log("%s - %s",bi(),r.format.apply(r,arguments))},r.inherits=Wu,r._extend=function(d,p){if(!p||!J(p))return d;for(var g=Object.keys(p),O=g.length;O--;)d[g[O]]=p[g[O]];return d};function Rt(d,p){return Object.prototype.hasOwnProperty.call(d,p)}var Ye=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');if(Ye&&p[Ye]){var g=p[Ye];if(typeof g!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(g,Ye,{value:g,enumerable:!1,writable:!1,configurable:!0}),g}function g(){for(var O,U,V=new Promise(function(z,Ee){O=z,U=Ee}),j=[],$=0;$<arguments.length;$++)j.push(arguments[$]);j.push(function(z,Ee){z?U(z):O(Ee)});try{p.apply(this,j)}catch(z){U(z)}return V}return Object.setPrototypeOf(g,Object.getPrototypeOf(p)),Ye&&Object.defineProperty(g,Ye,{value:g,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(g,e(p))},r.promisify.custom=Ye;function Nt(d,p){if(!d){var g=new Error("Promise was rejected with a falsy value");g.reason=d,d=g}return p(d)}function Vr(d){if(typeof d!="function")throw new TypeError('The "original" argument must be of type Function');function p(){for(var g=[],O=0;O<arguments.length;O++)g.push(arguments[O]);var U=g.pop();if(typeof U!="function")throw new TypeError("The last argument must be of type Function");var V=this,j=function(){return U.apply(V,arguments)};d.apply(this,g).then(function($){process.nextTick(j.bind(null,null,$))},function($){process.nextTick(Nt.bind(null,$,j))})}return Object.setPrototypeOf(p,Object.getPrototypeOf(d)),Object.defineProperties(p,e(d)),p}r.callbackify=Vr})(uc);const Cd=uc,Ic=_a;var Li=typeof Reflect=="object"?Reflect:null,kd=Li&&typeof Li.apply=="function"?Li.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},xd=Ms;function Ms(){Ic.call(this)}Cd.inherits(Ms,Ic);Ms.prototype.emit=function(r){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var n=r==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[r];if(a===void 0)return!1;if(typeof a=="function")Po(a,this,e);else for(var c=a.length,u=Id(a,c),t=0;t<c;++t)Po(u[t],this,e);return!0};function Po(r,e,t){try{kd(r,e,t)}catch(n){setTimeout(()=>{throw n})}}function Id(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}const Ad=xd,Md=1e3,Od=(r,e)=>r+e,Bo=["sync","latest"];let Td=class extends Ad{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Md,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(t=>this.once("latest",t))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){Bo.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Bo.map(e=>this.listenerCount(e)).reduce(Od)}_newPotentialLatest(e){const t=this._currentBlock;t&&Fo(e)<=Fo(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var Rd=Td;function Fo(r){return Number.parseInt(r,16)}const Nd=kh,Ld=Rd,Dd=1e3;let jd=class extends Ld{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||20*Dd,n=e.retryTimeout||t/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await $o(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const t=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",t)}catch{console.error(t)}await $o(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await Nd(n=>this._provider.sendAsync(e,n))();if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${t.error}`);return t.result}};var Pd=jd;function $o(r,e){return new Promise(t=>{const n=setTimeout(t,r);n.unref&&e&&n.unref()})}var Os={},Ln={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.getUniqueId=void 0;const Ac=4294967295;let Di=Math.floor(Math.random()*Ac);function Bd(){return Di=(Di+1)%Ac,Di}Dr.getUniqueId=Bd;Object.defineProperty(Ln,"__esModule",{value:!0});Ln.createIdRemapMiddleware=void 0;const Fd=Dr;function $d(){return(r,e,t,n)=>{const i=r.id,s=Fd.getUniqueId();r.id=s,e.id=s,t(o=>{r.id=i,e.id=i,o()})}}Ln.createIdRemapMiddleware=$d;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.createAsyncMiddleware=void 0;function Wd(r){return async(e,t,n,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,n(l=>{a=l,s()}),await o};try{await r(e,t,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}Dn.createAsyncMiddleware=Wd;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.createScaffoldMiddleware=void 0;function Ud(r){return(e,t,n,i)=>{const s=r[e.method];return s===void 0?n():typeof s=="function"?s(e,t,n,i):(t.result=s,i())}}jn.createScaffoldMiddleware=Ud;var jr={},Hd=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jr,"__esModule",{value:!0});jr.JsonRpcEngine=void 0;const Vd=Hd(sr),Oe=Mr;class Ke extends Vd.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&typeof t!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,n,i)=>{try{const[s,o,a]=await Ke._runAllMiddleware(e,t,this._middleware);return o?(await Ke._runReturnHandlers(a),i(s)):n(async c=>{try{await Ke._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(n,i)=>{t(i)})})}async _handle(e,t){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Oe.EthereumRpcError(Oe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return t(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Oe.EthereumRpcError(Oe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return t(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Oe.serializeError(s))),t(s,i)}async _processRequest(e,t){const[n,i,s]=await Ke._runAllMiddleware(e,t,this._middleware);if(Ke._checkForCompletion(e,t,i),await Ke._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,t,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Ke._runMiddleware(e,t,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,t,n,i){return new Promise(s=>{const o=c=>{const u=c||t.error;u&&(t.error=Oe.serializeError(u)),s([u,!0])},a=c=>{t.error?o(t.error):(c&&(typeof c!="function"&&o(new Oe.EthereumRpcError(Oe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${ji(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,t,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((n,i)=>{t(s=>s?i(s):n())})}static _checkForCompletion(e,t,n){if(!("result"in t)&&!("error"in t))throw new Oe.EthereumRpcError(Oe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${ji(e)}`,{request:e});if(!n)throw new Oe.EthereumRpcError(Oe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${ji(e)}`,{request:e})}}jr.JsonRpcEngine=Ke;function ji(r){return JSON.stringify(r,null,2)}var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.mergeMiddleware=void 0;const zd=jr;function qd(r){const e=new zd.JsonRpcEngine;return r.forEach(t=>e.push(t)),e.asMiddleware()}Pn.mergeMiddleware=qd;(function(r){var e=D&&D.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),t=D&&D.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(Ln,r),t(Dn,r),t(jn,r),t(Dr,r),t(jr,r),t(Pn,r)})(Os);var Mc={},Ts={};const Rs=ir(Uu);var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});var Wo=Rs,Gd=function(){function r(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return r.prototype.acquire=function(){var e=this,t=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return t||this._dispatch(),n},r.prototype.runExclusive=function(e){return Wo.__awaiter(this,void 0,void 0,function(){var t,n,i;return Wo.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:t=s.sent(),n=t[0],i=t[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},r.prototype.isLocked=function(){return this._value<=0},r.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},r.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},r}();Bn.default=Gd;Object.defineProperty(Ts,"__esModule",{value:!0});var Uo=Rs,Qd=Bn,Zd=function(){function r(){this._semaphore=new Qd.default(1)}return r.prototype.acquire=function(){return Uo.__awaiter(this,void 0,void 0,function(){var e,t;return Uo.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),t=e[1],[2,t]}})})},r.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},r.prototype.isLocked=function(){return this._semaphore.isLocked()},r.prototype.release=function(){this._semaphore.release()},r}();Ts.default=Zd;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.withTimeout=void 0;var Jr=Rs;function Yd(r,e,t){var n=this;return t===void 0&&(t=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Jr.__awaiter(n,void 0,void 0,function(){var o,a,c;return Jr.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(t)},e),[4,r.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Jr.__awaiter(this,void 0,void 0,function(){var s,o;return Jr.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){r.release()},isLocked:function(){return r.isLocked()}}}Fn.withTimeout=Yd;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.withTimeout=r.Semaphore=r.Mutex=void 0;var e=Ts;Object.defineProperty(r,"Mutex",{enumerable:!0,get:function(){return e.default}});var t=Bn;Object.defineProperty(r,"Semaphore",{enumerable:!0,get:function(){return t.default}});var n=Fn;Object.defineProperty(r,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Mc);const Ho=(r,e,t,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(r,this===t?n:this,i)})},Vo=new WeakMap;var Kd=(r,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const t=typeof r;if(!(r!==null&&(t==="object"||t==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${r===null?"null":t}\``);const n=(o,a)=>{let c=Vo.get(o);if(c||(c={},Vo.set(o,c)),a in c)return c[a];const u=m=>typeof m=="string"||typeof a=="symbol"?a===m:m.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),h=l===void 0||l.writable||l.configurable,v=(e.include?e.include.some(u):!e.exclude.some(u))&&h;return c[a]=v,v},i=new WeakMap,s=new Proxy(r,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Ho(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Ho(c,e,s,o);return i.set(c,l),l}return c}});return s};const Jd=sr.default;let Xd=class extends Jd{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(t=>this.emit("update",t))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Ns=Xd;const ep=Ns;let tp=class extends ep{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var rp=tp,Pr={minBlockRef:np,maxBlockRef:ip,sortBlockRefs:Ls,bnToHex:sp,blockRefIsNumber:op,hexToInt:gn,incrementHexInt:ap,intToHex:Oc,unsafeRandomBytes:cp};function np(...r){return Ls(r)[0]}function ip(...r){const e=Ls(r);return e[e.length-1]}function Ls(r){return r.sort((e,t)=>e==="latest"||t==="earliest"?1:t==="latest"||e==="earliest"?-1:gn(e)-gn(t))}function sp(r){return"0x"+r.toString(16)}function op(r){return r&&!["earliest","latest","pending"].includes(r)}function gn(r){return r==null?r:Number.parseInt(r,16)}function ap(r){if(r==null)return r;const e=gn(r);return Oc(e+1)}function Oc(r){if(r==null)return r;let e=r.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function cp(r){let e="0x";for(let t=0;t<r;t++)e+=zo(),e+=zo();return e}function zo(){return Math.floor(Math.random()*16).toString(16)}const up=Nh,lp=Kd,fp=rp,{bnToHex:t2,hexToInt:Xr,incrementHexInt:hp,minBlockRef:dp,blockRefIsNumber:pp}=Pr;let bp=class extends fp{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new up(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),t==="earliest"&&(t="0x0"),this.params.fromBlock=t;const n=dp(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:t}){const n=t;let i;e?i=hp(e):i=t;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await lp(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Xr(this.params.fromBlock)>=Xr(e.blockNumber)||pp(this.params.toBlock)&&Xr(this.params.toBlock)<=Xr(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return this.params.address&&t&&!this.params.address.includes(t)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}};var yp=bp,Ds=gp;async function gp({provider:r,fromBlock:e,toBlock:t}){e||(e=t);const n=qo(e),s=qo(t)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(vp);return await Promise.all(o.map(c=>wp(r,"eth_getBlockByNumber",[c,!1])))}function qo(r){return r==null?r:Number.parseInt(r,16)}function vp(r){return r==null?r:"0x"+r.toString(16)}function mp(r,e){return new Promise((t,n)=>{r.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?t(s.result):n(new Error("Result was empty"))})})}async function wp(r,e,t){for(let n=0;n<3;n++)try{return await mp(r,{id:1,jsonrpc:"2.0",method:e,params:t})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(t)}`)}const Sp=Ns,_p=Ds,{incrementHexInt:Ep}=Pr;let Cp=class extends Sp{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const n=t,i=Ep(e),o=(await _p({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var kp=Cp;const xp=Ns,Ip=Ds,{incrementHexInt:Ap}=Pr;let Mp=class extends xp{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,n=Ap(e),i=await Ip({provider:this.provider,fromBlock:n,toBlock:t}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var Op=Mp;const Tp=Mc.Mutex,{createAsyncMiddleware:Rp,createScaffoldMiddleware:Np}=Os,Lp=yp,Dp=kp,jp=Op,{intToHex:Tc,hexToInt:Pi}=Pr;var Pp=Bp;function Bp({blockTracker:r,provider:e}){let t=0,n={};const i=new Tp,s=Fp({mutex:i}),o=Np({eth_newFilter:s(Bi(c)),eth_newBlockFilter:s(Bi(u)),eth_newPendingTransactionFilter:s(Bi(l)),eth_uninstallFilter:s(ln(v)),eth_getFilterChanges:s(ln(h)),eth_getFilterLogs:s(ln(f))}),a=async({oldBlock:S,newBlock:_})=>{if(n.length===0)return;const A=await i.acquire();try{await Promise.all(jt(n).map(async F=>{try{await F.update({oldBlock:S,newBlock:_})}catch(q){console.error(q)}}))}catch(F){console.error(F)}A()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=v,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{I()},o;async function c(S){const _=new Lp({provider:e,params:S});return await m(_),_}async function u(){const S=new Dp({provider:e});return await m(S),S}async function l(){const S=new jp({provider:e});return await m(S),S}async function h(S){const _=Pi(S),A=n[_];if(!A)throw new Error(`No filter for index "${_}"`);return A.getChangesAndClear()}async function f(S){const _=Pi(S),A=n[_];if(!A)throw new Error(`No filter for index "${_}"`);let F=[];return A.type==="log"&&(F=A.getAllResults()),F}async function v(S){const _=Pi(S),F=!!n[_];return F&&await k(_),F}async function m(S){const _=jt(n).length,A=await r.getLatestBlock();await S.initialize({currentBlock:A}),t++,n[t]=S,S.id=t,S.idHex=Tc(t);const F=jt(n).length;return w({prevFilterCount:_,newFilterCount:F}),t}async function k(S){const _=jt(n).length;delete n[S];const A=jt(n).length;w({prevFilterCount:_,newFilterCount:A})}async function I(){const S=jt(n).length;n={},w({prevFilterCount:S,newFilterCount:0})}function w({prevFilterCount:S,newFilterCount:_}){if(S===0&&_>0){r.on("sync",a);return}if(S>0&&_===0){r.removeListener("sync",a);return}}}function Bi(r){return ln(async(...e)=>{const t=await r(...e);return Tc(t.id)})}function ln(r){return Rp(async(e,t)=>{const n=await r.apply(null,e.params);t.result=n})}function Fp({mutex:r}){return e=>async(t,n,i,s)=>{(await r.acquire())(),e(t,n,i,s)}}function jt(r,e){const t=[];for(let n in r)t.push(r[n]);return t}const $p=sr.default,{createAsyncMiddleware:Go,createScaffoldMiddleware:Wp}=Os,Up=Pp,{unsafeRandomBytes:Hp,incrementHexInt:Vp}=Pr,zp=Ds;var qp=Gp;function Gp({blockTracker:r,provider:e}){const t={},n=Up({blockTracker:r,provider:e});let i=!1;const s=new $p,o=Wp({eth_subscribe:Go(a),eth_unsubscribe:Go(c)});return o.destroy=l,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=h.params[0],m=Hp(16);let k;switch(v){case"newHeads":k=I({subId:m});break;case"logs":const S=h.params[1],_=await n.newLogFilter(S);k=w({subId:m,filter:_});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${v}"`)}t[m]=k,f.result=m;return;function I({subId:S}){const _={type:v,destroy:async()=>{r.removeListener("sync",_.update)},update:async({oldBlock:A,newBlock:F})=>{const q=F,W=Vp(A);(await zp({provider:e,fromBlock:W,toBlock:q})).map(Qp).filter(Z=>Z!==null).forEach(Z=>{u(S,Z)})}};return r.on("sync",_.update),_}function w({subId:S,filter:_}){return _.on("update",F=>u(S,F)),{type:v,destroy:async()=>await n.uninstallFilter(_.idHex)}}}async function c(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=h.params[0],m=t[v];if(!m){f.result=!1;return}delete t[v],await m.destroy(),f.result=!0}function u(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function l(){s.removeAllListeners();for(const h in t)t[h].destroy(),delete t[h];i=!0}}function Qp(r){return r==null?null:{hash:r.hash,parentHash:r.parentHash,sha3Uncles:r.sha3Uncles,miner:r.miner,stateRoot:r.stateRoot,transactionsRoot:r.transactionsRoot,receiptsRoot:r.receiptsRoot,logsBloom:r.logsBloom,difficulty:r.difficulty,number:r.number,gasLimit:r.gasLimit,gasUsed:r.gasUsed,nonce:r.nonce,mixHash:r.mixHash,timestamp:r.timestamp,extraData:r.extraData}}Object.defineProperty(Tn,"__esModule",{value:!0});Tn.SubscriptionManager=void 0;const Zp=Pd,Yp=qp,Qo=()=>{};class Kp{constructor(e){const t=new Zp({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=Yp({blockTracker:t,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const t={};return await this.subscriptionMiddleware(e,t,Qo,Qo),t}destroy(){this.subscriptionMiddleware.destroy()}}Tn.SubscriptionManager=Kp;var js=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.CoinbaseWalletProvider=void 0;const Jp=js(sr),Xp=js(En),pe=Mr,Fi=or,Zo=ar,Yo=Fe,T=E,$i=js(Sh),eb=Kt,H=cc,tb=Tn,Ko="DefaultChainId",Jo="DefaultJsonRpcUrl";class rb extends Jp.default{constructor(e){var t,n;super(),this._filterPolyfill=new eb.FilterPolyfill(this),this._subscriptionManager=new tb.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(t=e.overrideIsCoinbaseWallet)!==null&&t!==void 0?t:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,T.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Yo.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,T.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,T.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Jo))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Jo,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=t,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,t){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Ko,t.toString(10)),((0,T.ensureIntNumber)(t)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,t,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,t,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,t,n,i,s,o){var a,c;if((0,T.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const h=await u.addEthereumChain(e.toString(),t,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(t[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw pe.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,t){this.initializeRelay().then(n=>n.setAppInfo(e,t))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Fi.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Zo.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(H.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,t){if(typeof e=="string"){const i=e,s=Array.isArray(t)?t:t!==void 0?[t]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof t=="function"){const i=e,s=t;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,t){if(typeof t!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=t;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=t;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw pe.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:n}=e;if(typeof t!="string"||t.length===0)throw pe.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw pe.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,T.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,t){const i=await(await this.initializeRelay()).genericRequest(e,t).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id},{method:n}=e;if(t.result=this._handleSynchronousMethods(e),t.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,T.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!t||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Yo.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((t,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return t({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>t(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>t({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&t(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(t=>this._sendRequestAsync(t)))}_handleSynchronousMethods(e){const{method:t}=e,n=e.params||[];switch(t){case H.JSONRPCMethod.eth_accounts:return this._eth_accounts();case H.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case H.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case H.JSONRPCMethod.net_version:return this._net_version();case H.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:t}=e,n=e.params||[];switch(t){case H.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case H.JSONRPCMethod.eth_sign:return this._eth_sign(n);case H.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case H.JSONRPCMethod.personal_sign:return this._personal_sign(n);case H.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case H.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case H.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case H.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case H.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case H.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case H.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case H.JSONRPCMethod.eth_signTypedData_v4:case H.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case H.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case H.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case H.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case H.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:t}=e,n=e.params||[];switch(t){case H.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case H.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case H.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case H.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case H.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case H.JSONRPCMethod.eth_subscribe:case H.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const t=(0,T.ensureAddressString)(e);return this._addresses.map(i=>(0,T.ensureAddressString)(i)).includes(t)}catch{}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e))throw(t=this.diagnostic)===null||t===void 0||t.log(Fi.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?(0,T.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);const n=e.to?(0,T.ensureAddressString)(e.to):null,i=e.value!=null?(0,T.ensureBN)(e.value):new Xp.default(0),s=e.data?(0,T.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,T.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,T.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,T.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,T.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,T.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:t,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw pe.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw pe.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,n,i){this._ensureKnownAddress(t);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,t,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?pe.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,t,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,t,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,T.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Ko);if(!e)return(0,T.ensureIntNumber)(this._chainIdFromOpts);const t=parseInt(e,10);return(0,T.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Fi.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Zo.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{t=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?pe.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const t=(0,T.ensureAddressString)(e[0]),n=(0,T.ensureBuffer)(e[1]);return this._signEthereumMessage(n,t,!1)}_eth_ecRecover(e){const t=(0,T.ensureBuffer)(e[0]),n=(0,T.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!1)}_personal_sign(e){this._requireAuthorization();const t=(0,T.ensureBuffer)(e[0]),n=(0,T.ensureAddressString)(e[1]);return this._signEthereumMessage(t,n,!0)}_personal_ecRecover(e){const t=(0,T.ensureBuffer)(e[0]),n=(0,T.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(t).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?pe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const t=(0,T.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(t,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(t).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?pe.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=(0,T.ensureParsedJSONObject)(e[0]),n=(0,T.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=$i.default.hashForSignTypedDataLegacy({data:t}),s=JSON.stringify(t,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const t=(0,T.ensureAddressString)(e[0]),n=(0,T.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const i=$i.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const t=(0,T.ensureAddressString)(e[0]),n=(0,T.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const i=$i.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _cbwallet_arbitrary(e){const t=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof t!="object"||t===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(t,n)}}async _wallet_addEthereumChain(e){var t,n,i,s;const o=e[0];if(((t=o.rpcUrls)===null||t===void 0?void 0:t.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw pe.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw pe.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const t=e[0];return await this.switchEthereumChain(parseInt(t.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw pe.ethErrors.rpc.invalidParams({message:"Type is required"});if((t==null?void 0:t.type)!=="ERC20")throw pe.ethErrors.rpc.invalidParams({message:`Asset of type '${t.type}' is not supported`});if(!(t!=null&&t.options))throw pe.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(t!=null&&t.options.address))throw pe.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=t.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(t.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const t=(0,T.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const t=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(t)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const t=(0,T.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=(0,T.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((t,n)=>this._setAddresses(t,n)),e.setChainCallback((t,n)=>{this.updateProviderInfo(n,parseInt(t,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Gt.CoinbaseWalletProvider=rb;var $n={},Wn={};const Ie=ir(Vu);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cs=function(r,e){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},cs(r,e)};function y(r,e){cs(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Jt(r){return typeof r=="function"}var Xo=!1,Te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;""+e.stack}Xo=r},get useDeprecatedSynchronousErrorHandling(){return Xo}};function Wt(r){setTimeout(function(){throw r},0)}var vn={closed:!0,next:function(r){},error:function(r){if(Te.useDeprecatedSynchronousErrorHandling)throw r;Wt(r)},complete:function(){}},Se=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}();function Ps(r){return r!==null&&typeof r=="object"}var nb=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}(),_r=nb,K=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,s=t._unsubscribe,o=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Jt(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(h){e=h instanceof _r?ea(h.errors):[h]}}if(Se(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(Ps(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof _r?e=e.concat(ea(f.errors)):e.push(f)}}if(e)throw new _r(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var s=this._subscriptions;return s===null?this._subscriptions=[t]:s.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();function ea(r){return r.reduce(function(e,t){return e.concat(t instanceof _r?t.errors:t)},[])}var mn=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),C=function(r){y(e,r);function e(t,n,i){var s=r.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=vn;break;case 1:if(!t){s.destination=vn;break}if(typeof t=="object"){t instanceof e?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(s)):(s.syncErrorThrowable=!0,s.destination=new ta(s,t));break}default:s.syncErrorThrowable=!0,s.destination=new ta(s,t,n,i);break}return s}return e.prototype[mn]=function(){return this},e.create=function(t,n,i){var s=new e(t,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(K),ta=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this)||this;o._parentSubscriber=t;var a,c=o;return Jt(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==vn&&(c=Object.create(n),Jt(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Te.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=Te.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):Wt(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Wt(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!Te.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),Te.useDeprecatedSynchronousErrorHandling)throw i;Wt(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!Te.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Te.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Wt(s),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(C);function Bs(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof C?r=n:r=null}return!0}function ib(r,e,t){if(r){if(r instanceof C)return r;if(r[mn])return r[mn]()}return!r&&!e&&!t?new C(vn):new C(r,e,t)}var ur=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ht(r){return r}function us(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Rc(r)}function Rc(r){return r.length===0?ht:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}var R=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,s=ib(e,t,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Te.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Te.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){Te.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Bs(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=ra(t),new t(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[ur]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:Rc(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=ra(e),new e(function(n,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},r.create=function(e){return new r(e)},r}();function ra(r){if(r||(r=Te.Promise||Promise),!r)throw new Error("no Promise impl found");return r}var sb=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),at=sb,Nc=function(r){y(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(K),Lc=function(r){y(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(C),le=function(r){y(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[mn]=function(){return new Lc(this)},e.prototype.lift=function(t){var n=new na(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new at;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new at;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new at;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new at;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new at;return this.hasError?(t.error(this.thrownError),K.EMPTY):this.isStopped?(t.complete(),K.EMPTY):(this.observers.push(t),new Nc(this,t))},e.prototype.asObservable=function(){var t=new R;return t.source=this,t},e.create=function(t,n){return new na(t,n)},e}(R),na=function(r){y(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):K.EMPTY},e}(le);function Fs(){return function(e){return e.lift(new ob(e))}}var ob=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new ab(e,n),s=t.subscribe(i);return i.closed||(i.connection=n.connect()),s},r}(),ab=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(C),Dc=function(r){y(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new K,t.add(this.source.subscribe(new ub(this.getSubject(),this))),t.closed&&(this._connection=null,t=K.EMPTY)),t},e.prototype.refCount=function(){return Fs()(this)},e}(R),cb=function(){var r=Dc.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}(),ub=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(Lc);function lb(r,e,t,n){return function(i){return i.lift(new fb(r,e,t,n))}}var fb=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new hb(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),hb=function(r){y(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(t)}catch(u){this.error(u)}else o=t;if(!s){s=this.subjectSelector?this.subjectSelector():new le,i.set(n,s);var a=new ls(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new ls(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new db(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,s){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(C),db=function(r){y(e,r);function e(t,n,i){var s=r.call(this,n)||this;return s.key=t,s.group=n,s.parent=i,s}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(C),ls=function(r){y(e,r);function e(t,n,i){var s=r.call(this)||this;return s.key=t,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(t){var n=new K,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new pb(s)),n.add(o.subscribe(t)),n},e}(R),pb=function(r){y(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(K),jc=function(r){y(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new at;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(le),bb=function(r){y(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return this},e}(K),Br=function(r){y(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,s=void 0;try{this.work(t)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(bb),yb=function(r){y(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(Br),fs=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}(),Fr=function(r){y(e,r);function e(t,n){n===void 0&&(n=fs.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(fs),gb=function(r){y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Fr),Pc=new gb(yb),Bc=Pc,Xt=new R(function(r){return r.complete()});function lr(r){return r?vb(r):Xt}function vb(r){return new R(function(e){return r.schedule(function(){return e.complete()})})}function xe(r){return r&&typeof r.schedule=="function"}var Fc=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}};function $s(r,e){return new R(function(t){var n=new K,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}function $r(r,e){return e?$s(r,e):new R(Fc(r))}function Un(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return xe(t)?(r.pop(),$s(r,t)):$r(r)}function Ws(r,e){return e?new R(function(t){return e.schedule(mb,0,{error:r,subscriber:t})}):new R(function(t){return t.error(r)})}function mb(r){var e=r.error,t=r.subscriber;t.error(e)}var hs;hs||(hs={});var Xe=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Un(this.value);case"E":return Ws(this.error);case"C":return lr()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();function wb(r,e){return e===void 0&&(e=0),function(n){return n.lift(new Sb(r,e))}}var Sb=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new $c(e,this.scheduler,this.delay))},r}(),$c=function(r){y(e,r);function e(t,n,i){i===void 0&&(i=0);var s=r.call(this,t)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new _b(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Xe.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Xe.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Xe.createComplete()),this.unsubscribe()},e}(C),_b=function(){function r(e,t){this.notification=e,this.destination=t}return r}(),Us=function(r){y(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=r.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=t<1?1:t,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Eb(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new at;if(this.isStopped||this.hasError?a=K.EMPTY:(this.observers.push(t),a=new Nc(this,t)),s&&t.add(t=new $c(t,s)),n)for(var c=0;c<o&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<o&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Bc).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(t-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(le),Eb=function(){function r(e,t){this.time=e,this.value=t}return r}(),fr=function(r){y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),K.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),K.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(le),Cb=1,kb=function(){return Promise.resolve()}(),ds={};function ia(r){return r in ds?(delete ds[r],!0):!1}var sa={setImmediate:function(r){var e=Cb++;return ds[e]=!0,kb.then(function(){return ia(e)&&r()}),e},clearImmediate:function(r){ia(r)}},xb=function(r){y(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=sa.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(sa.clearImmediate(n),t.scheduled=void 0)},e}(Br),Ib=function(r){y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=n.shift()));if(this.active=!1,i){for(;++s<o&&(t=n.shift());)t.unsubscribe();throw i}},e}(Fr),Wc=new Ib(xb),fn=Wc,Uc=new Fr(Br),_e=Uc,Ab=function(r){y(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(Br),Mb=function(r){y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++s<o&&(t=n.shift()));if(this.active=!1,i){for(;++s<o&&(t=n.shift());)t.unsubscribe();throw i}},e}(Fr),Hc=new Mb(Ab),Ob=Hc,Tb=function(r){y(e,r);function e(t,n){t===void 0&&(t=Vc),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Fr),Vc=function(r){y(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var s=r.call(this,t,n)||this;return s.scheduler=t,s.work=n,s.index=i,s.active=!0,s.index=t.index=i,s}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var s=t.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(Br);function He(){}function Rb(r){return!!r&&(r instanceof R||typeof r.lift=="function"&&typeof r.subscribe=="function")}var Nb=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),er=Nb,Lb=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),Wr=Lb,Db=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}(),zc=Db;function De(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new jb(r,e))}}var jb=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new Pb(e,this.project,this.thisArg))},r}(),Pb=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(C);function qc(r,e,t){if(e)if(xe(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qc(r,t).apply(void 0,n).pipe(De(function(s){return Se(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:r,scheduler:t};return new R(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(Bb,0,l)}else{if(!o){o=new fr;var u=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];o.next(h.length<=1?h[0]:h),o.complete()};try{r.apply(s,n.concat([u]))}catch(h){Bs(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function Bb(r){var e=this,t=r.args,n=r.subscriber,i=r.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new fr;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.length<=1?l[0]:l;e.add(a.schedule(Fb,0,{value:f,subject:c}))};try{s.apply(o,t.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(n))}function Fb(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function Gc(r,e,t){if(e)if(xe(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Gc(r,t).apply(void 0,n).pipe(De(function(s){return Se(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new R(function(o){var a=s.context,c=s.subject;if(t)return t.schedule($b,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new fr;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){Bs(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function $b(r){var e=this,t=r.params,n=r.subscriber,i=r.context,s=t.callbackFunc,o=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new fr;var u=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var f=l.shift();if(f)e.add(a.schedule(oa,0,{err:f,subject:c}));else{var v=l.length<=1?l[0]:l;e.add(a.schedule(Wb,0,{value:v,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(oa,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function Wb(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function oa(r){var e=r.err,t=r.subject;t.error(e)}var Tt=function(r){y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(C),Ub=function(r){y(e,r);function e(t,n,i){var s=r.call(this)||this;return s.parent=t,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(C),Hb=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Wt),e}};function Vb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dt=Vb(),zb=function(r){return function(e){var t=r[dt]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}},qb=function(r){return function(e){var t=r[ur]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}},Qc=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function Zc(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}var kr=function(r){if(r&&typeof r[ur]=="function")return qb(r);if(Qc(r))return Fc(r);if(Zc(r))return Hb(r);if(r&&typeof r[dt]=="function")return zb(r);var e=Ps(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)};function et(r,e,t,n,i){if(i===void 0&&(i=new Ub(r,t,n)),!i.closed)return e instanceof R?e.subscribe(i):kr(e)(i)}var aa={};function Gb(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return xe(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&Se(r[0])&&(r=r[0]),$r(r,n).lift(new Hs(t))}var Hs=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Qb(e,this.resultSelector))},r}(),Qb=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(aa),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=t[i];this.add(et(this,s,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var s=this.values,o=s[i],a=this.toRespond?o===aa?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Tt);function Zb(r,e){return new R(function(t){var n=new K;return n.add(e.schedule(function(){var i=r[ur]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return t.next(s)}))},error:function(s){n.add(e.schedule(function(){return t.error(s)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}function Yb(r,e){return new R(function(t){var n=new K;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}function Kb(r,e){if(!r)throw new Error("Iterable cannot be null");return new R(function(t){var n=new K,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[dt](),n.add(e.schedule(function(){if(!t.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){t.error(c);return}o?t.complete():(t.next(s),this.schedule())}}))})),n})}function Jb(r){return r&&typeof r[ur]=="function"}function Xb(r){return r&&typeof r[dt]=="function"}function Yc(r,e){if(r!=null){if(Jb(r))return Zb(r,e);if(Zc(r))return Yb(r,e);if(Qc(r))return $s(r,e);if(Xb(r)||typeof r=="string")return Kb(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}function tt(r,e){return e?Yc(r,e):r instanceof R?r:new R(kr(r))}var X=function(r){y(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(C),ee=function(r){y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(C);function te(r,e){if(!e.closed){if(r instanceof R)return r.subscribe(e);var t;try{t=kr(r)(e)}catch(n){e.error(n)}return t}}function Mt(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Mt(function(i,s){return tt(r(i,s)).pipe(De(function(o,a){return e(i,o,s,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new ey(r,t))})}var ey=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new ty(e,this.project,this.concurrent))},r}(),ty=function(r){y(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new X(this),i=this.destination;i.add(n);var s=te(t,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(ee),ry=Mt;function Vs(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Mt(ht,r)}function Kc(){return Vs(1)}function xr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Kc()(Un.apply(void 0,r))}function zs(r){return new R(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?tt(t):lr();return n.subscribe(e)})}function ny(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Se(t))return en(t,null);if(Ps(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return en(n.map(function(s){return t[s]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Se(r[0])?r[0]:r,en(r,null).pipe(De(function(s){return i.apply(void 0,s)}))}return en(r,null)}function en(r,e){return new R(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var l=tt(r[u]),h=!1;t.add(l.subscribe({next:function(f){h||(h=!0,o++),i[u]=f},error:function(f){return t.error(f)},complete:function(){s++,(s===n||!h)&&(o===n&&t.next(e?e.reduce(function(f,v,m){return f[v]=i[m],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}function Jc(r,e,t,n){return Jt(t)&&(n=t,t=void 0),n?Jc(r,e,t).pipe(De(function(i){return Se(i)?n.apply(void 0,i):n(i)})):new R(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Xc(r,e,s,i,t)})}function Xc(r,e,t,n,i){var s;if(oy(r)){var o=r;r.addEventListener(e,t,i),s=function(){return o.removeEventListener(e,t,i)}}else if(sy(r)){var a=r;r.on(e,t),s=function(){return a.off(e,t)}}else if(iy(r)){var c=r;r.addListener(e,t),s=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)Xc(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(s)}function iy(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function sy(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function oy(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}function eu(r,e,t){return t?eu(r,e).pipe(De(function(n){return Se(n)?t.apply(void 0,n):t(n)})):new R(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=r(i)}catch(o){n.error(o);return}if(Jt(e))return function(){return e(i,s)}})}function ay(r,e,t,n,i){var s,o;if(arguments.length==1){var a=r;o=a.initialState,e=a.condition,t=a.iterate,s=a.resultSelector||ht,i=a.scheduler}else n===void 0||xe(n)?(o=r,s=ht,i=n):(o=r,s=n);return new R(function(c){var u=o;if(i)return i.schedule(cy,0,{subscriber:c,iterate:t,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var h=void 0;try{h=s(u)}catch(f){c.error(f);return}if(c.next(h),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}function cy(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(s){e.error(s);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}function uy(r,e,t){return e===void 0&&(e=Xt),t===void 0&&(t=Xt),zs(function(){return r()?e:t})}function tr(r){return!Se(r)&&r-parseFloat(r)+1>=0}function ly(r,e){return r===void 0&&(r=0),e===void 0&&(e=_e),(!tr(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=_e),new R(function(t){return t.add(e.schedule(fy,r,{subscriber:t,counter:0,period:r})),t})}function fy(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}function tu(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return xe(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof R?r[0]:Vs(t)($r(r,n))}var ru=new R(He);function hy(){return ru}function ps(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return Xt;var t=r[0],n=r.slice(1);return r.length===1&&Se(t)?ps.apply(void 0,t):new R(function(i){var s=function(){return i.add(ps.apply(void 0,n).subscribe(i))};return tt(t).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function dy(r,e){return e?new R(function(t){var n=Object.keys(r),i=new K;return i.add(e.schedule(py,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new R(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var s=n[i];r.hasOwnProperty(s)&&t.next([s,r[s]])}t.complete()})}function py(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,s=r.obj;if(!n.closed)if(t<e.length){var o=e[t];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function nu(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}function pt(r,e){return function(n){return n.lift(new by(r,e))}}var by=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new yy(e,this.predicate,this.thisArg))},r}(),yy=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(C);function gy(r,e,t){return[pt(e,t)(new R(kr(r))),pt(nu(e,t))(new R(kr(r)))]}function iu(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(Se(r[0]))r=r[0];else return r[0];return $r(r,void 0).lift(new vy)}var vy=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new my(e))},r}(),my=function(r){y(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=t[i],o=et(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Tt);function wy(r,e,t){return r===void 0&&(r=0),new R(function(n){e===void 0&&(e=r,r=0);var i=0,s=r;if(t)return t.schedule(Sy,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Sy(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}function su(r,e,t){r===void 0&&(r=0);var n=-1;return tr(e)?n=Number(e)<1&&1||Number(e):xe(e)&&(t=e),xe(t)||(t=_e),new R(function(i){var s=tr(r)?r:+r-t.now();return t.schedule(_y,s,{index:0,period:n,subscriber:i})})}function _y(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}function Ey(r,e){return new R(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var s=i?tt(i):Xt,o=s.subscribe(t);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function ou(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),$r(r,void 0).lift(new au(t))}var au=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Cy(e,this.resultSelector))},r}(),Cy=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(t){var n=this.iterators;Se(t)?n.push(new xy(t)):typeof t[dt]=="function"?n.push(new ky(t[dt]())):n.push(new Iy(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=t[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,s=0;s<n;s++){var o=t[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=t[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(C),ky=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),xy=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[dt]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),Iy=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[dt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return te(this.observable,new X(this))},e}(ee);const Ay=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:er,AsyncSubject:fr,BehaviorSubject:jc,ConnectableObservable:Dc,EMPTY:Xt,EmptyError:Wr,GroupedObservable:ls,NEVER:ru,Notification:Xe,get NotificationKind(){return hs},ObjectUnsubscribedError:at,Observable:R,ReplaySubject:Us,Scheduler:fs,Subject:le,Subscriber:C,Subscription:K,TimeoutError:zc,UnsubscriptionError:_r,VirtualAction:Vc,VirtualTimeScheduler:Tb,animationFrame:Ob,animationFrameScheduler:Hc,asap:fn,asapScheduler:Wc,async:_e,asyncScheduler:Uc,bindCallback:qc,bindNodeCallback:Gc,combineLatest:Gb,concat:xr,config:Te,defer:zs,empty:lr,forkJoin:ny,from:tt,fromEvent:Jc,fromEventPattern:eu,generate:ay,identity:ht,iif:uy,interval:ly,isObservable:Rb,merge:tu,never:hy,noop:He,observable:ur,of:Un,onErrorResumeNext:ps,pairs:dy,partition:gy,pipe:us,queue:Bc,queueScheduler:Pc,race:iu,range:wy,scheduled:Yc,throwError:Ws,timer:su,using:Ey,zip:ou},Symbol.toStringTag,{value:"Module"})),Hn=ir(Ay);var Vn={};function cu(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=cu(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function ca(){for(var r,e,t=0,n="";t<arguments.length;)(r=arguments[t++])&&(e=cu(r))&&(n&&(n+=" "),n+=e);return n}const My=Object.freeze(Object.defineProperty({__proto__:null,clsx:ca,default:ca},Symbol.toStringTag,{value:"Module"})),zn=ir(My),Ur=ir(zu);var Ge={},qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.LIB_VERSION=void 0;qn.LIB_VERSION="3.6.5";var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.CloseIcon=void 0;const ua=Ie;function Oy(r){return(0,ua.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),(0,ua.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Gn.CloseIcon=Oy;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.QRCodeIcon=void 0;const We=Ie;function Ty(r){return(0,We.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},r),(0,We.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,We.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,We.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,We.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,We.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,We.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,We.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,We.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,We.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Qn.QRCodeIcon=Ty;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const Ry=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Qs.default=Ry;var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.StatusDotIcon=void 0;const la=Ie;function Ny(r){return(0,la.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},r),(0,la.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Zn.StatusDotIcon=Ny;var Yn={};function uu(r){this.mode=ke.MODE_8BIT_BYTE,this.data=r,this.parsedData=[];for(var e=0,t=this.data.length;e<t;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}uu.prototype={getLength:function(r){return this.parsedData.length},write:function(r){for(var e=0,t=this.parsedData.length;e<t;e++)r.put(this.parsedData[e],8)}};function Qe(r,e){this.typeNumber=r,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Qe.prototype={addData:function(r){var e=new uu(r);this.dataList.push(e),this.dataCache=null},isDark:function(r,e){if(r<0||this.moduleCount<=r||e<0||this.moduleCount<=e)throw new Error(r+","+e);return this.modules[r][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(r,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[t][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(r,e),this.typeNumber>=7&&this.setupTypeNumber(r),this.dataCache==null&&(this.dataCache=Qe.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(r,e){for(var t=-1;t<=7;t++)if(!(r+t<=-1||this.moduleCount<=r+t))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=t&&t<=6&&(n==0||n==6)||0<=n&&n<=6&&(t==0||t==6)||2<=t&&t<=4&&2<=n&&n<=4?this.modules[r+t][e+n]=!0:this.modules[r+t][e+n]=!1)},getBestMaskPattern:function(){for(var r=0,e=0,t=0;t<8;t++){this.makeImpl(!0,t);var n=Y.getLostPoint(this);(t==0||r>n)&&(r=n,e=t)}return e},createMovieClip:function(r,e,t){var n=r.createEmptyMovieClip(e,t),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++)this.modules[r][6]==null&&(this.modules[r][6]=r%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var r=Y.getPatternPosition(this.typeNumber),e=0;e<r.length;e++)for(var t=0;t<r.length;t++){var n=r[e],i=r[t];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(r){for(var e=Y.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var n=!r&&(e>>t&1)==1;this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=n}for(var t=0;t<18;t++){var n=!r&&(e>>t&1)==1;this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=n}},setupTypeInfo:function(r,e){for(var t=this.errorCorrectLevel<<3|e,n=Y.getBCHTypeInfo(t),i=0;i<15;i++){var s=!r&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!r&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!r},mapData:function(r,e){for(var t=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<r.length&&(c=(r[s]>>>i&1)==1);var u=Y.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=t,n<0||this.moduleCount<=n){n-=t,t=-t;break}}}};Qe.PAD0=236;Qe.PAD1=17;Qe.createData=function(r,e,t){for(var n=qe.getRSBlocks(r,e),i=new lu,s=0;s<t.length;s++){var o=t[s];i.put(o.mode,4),i.put(o.getLength(),Y.getLengthInBits(o.mode,r)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Qe.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Qe.PAD1,8);return Qe.createBytes(i,n)};Qe.createBytes=function(r,e){for(var t=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&r.buffer[l+t];t+=c;var h=Y.getErrorCorrectPolynomial(u),f=new qt(s[a],h.getLength()-1),v=f.mod(h);o[a]=new Array(h.getLength()-1);for(var l=0;l<o[a].length;l++){var m=l+v.getLength()-o[a].length;o[a][l]=m>=0?v.get(m):0}}for(var k=0,l=0;l<e.length;l++)k+=e[l].totalCount;for(var I=new Array(k),w=0,l=0;l<n;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(I[w++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(I[w++]=o[a][l]);return I};var ke={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},ut={L:1,M:0,Q:3,H:2},rt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Y={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(r){for(var e=r<<10;Y.getBCHDigit(e)-Y.getBCHDigit(Y.G15)>=0;)e^=Y.G15<<Y.getBCHDigit(e)-Y.getBCHDigit(Y.G15);return(r<<10|e)^Y.G15_MASK},getBCHTypeNumber:function(r){for(var e=r<<12;Y.getBCHDigit(e)-Y.getBCHDigit(Y.G18)>=0;)e^=Y.G18<<Y.getBCHDigit(e)-Y.getBCHDigit(Y.G18);return r<<12|e},getBCHDigit:function(r){for(var e=0;r!=0;)e++,r>>>=1;return e},getPatternPosition:function(r){return Y.PATTERN_POSITION_TABLE[r-1]},getMask:function(r,e,t){switch(r){case rt.PATTERN000:return(e+t)%2==0;case rt.PATTERN001:return e%2==0;case rt.PATTERN010:return t%3==0;case rt.PATTERN011:return(e+t)%3==0;case rt.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case rt.PATTERN101:return e*t%2+e*t%3==0;case rt.PATTERN110:return(e*t%2+e*t%3)%2==0;case rt.PATTERN111:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},getErrorCorrectPolynomial:function(r){for(var e=new qt([1],0),t=0;t<r;t++)e=e.multiply(new qt([1,ue.gexp(t)],0));return e},getLengthInBits:function(r,e){if(1<=e&&e<10)switch(r){case ke.MODE_NUMBER:return 10;case ke.MODE_ALPHA_NUM:return 9;case ke.MODE_8BIT_BYTE:return 8;case ke.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(e<27)switch(r){case ke.MODE_NUMBER:return 12;case ke.MODE_ALPHA_NUM:return 11;case ke.MODE_8BIT_BYTE:return 16;case ke.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else if(e<41)switch(r){case ke.MODE_NUMBER:return 14;case ke.MODE_ALPHA_NUM:return 13;case ke.MODE_8BIT_BYTE:return 16;case ke.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}else throw new Error("type:"+e)},getLostPoint:function(r){for(var e=r.getModuleCount(),t=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=r.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==r.isDark(n+a,i+c)&&s++;s>5&&(t+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;r.isDark(n,i)&&u++,r.isDark(n+1,i)&&u++,r.isDark(n,i+1)&&u++,r.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(t+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)r.isDark(n,i)&&!r.isDark(n,i+1)&&r.isDark(n,i+2)&&r.isDark(n,i+3)&&r.isDark(n,i+4)&&!r.isDark(n,i+5)&&r.isDark(n,i+6)&&(t+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)r.isDark(n,i)&&!r.isDark(n+1,i)&&r.isDark(n+2,i)&&r.isDark(n+3,i)&&r.isDark(n+4,i)&&!r.isDark(n+5,i)&&r.isDark(n+6,i)&&(t+=40);for(var l=0,i=0;i<e;i++)for(var n=0;n<e;n++)r.isDark(n,i)&&l++;var h=Math.abs(100*l/e/e-50)/5;return t+=h*10,t}},ue={glog:function(r){if(r<1)throw new Error("glog("+r+")");return ue.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return ue.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var fe=0;fe<8;fe++)ue.EXP_TABLE[fe]=1<<fe;for(var fe=8;fe<256;fe++)ue.EXP_TABLE[fe]=ue.EXP_TABLE[fe-4]^ue.EXP_TABLE[fe-5]^ue.EXP_TABLE[fe-6]^ue.EXP_TABLE[fe-8];for(var fe=0;fe<255;fe++)ue.LOG_TABLE[ue.EXP_TABLE[fe]]=fe;function qt(r,e){if(r.length==null)throw new Error(r.length+"/"+e);for(var t=0;t<r.length&&r[t]==0;)t++;this.num=new Array(r.length-t+e);for(var n=0;n<r.length-t;n++)this.num[n]=r[n+t]}qt.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var e=new Array(this.getLength()+r.getLength()-1),t=0;t<this.getLength();t++)for(var n=0;n<r.getLength();n++)e[t+n]^=ue.gexp(ue.glog(this.get(t))+ue.glog(r.get(n)));return new qt(e,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var e=ue.glog(this.get(0))-ue.glog(r.get(0)),t=new Array(this.getLength()),n=0;n<this.getLength();n++)t[n]=this.get(n);for(var n=0;n<r.getLength();n++)t[n]^=ue.gexp(ue.glog(r.get(n))+e);return new qt(t,0).mod(r)}};function qe(r,e){this.totalCount=r,this.dataCount=e}qe.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];qe.getRSBlocks=function(r,e){var t=qe.getRsBlockTable(r,e);if(t==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var n=t.length/3,i=[],s=0;s<n;s++)for(var o=t[s*3+0],a=t[s*3+1],c=t[s*3+2],u=0;u<o;u++)i.push(new qe(a,c));return i};qe.getRsBlockTable=function(r,e){switch(e){case ut.L:return qe.RS_BLOCK_TABLE[(r-1)*4+0];case ut.M:return qe.RS_BLOCK_TABLE[(r-1)*4+1];case ut.Q:return qe.RS_BLOCK_TABLE[(r-1)*4+2];case ut.H:return qe.RS_BLOCK_TABLE[(r-1)*4+3];default:return}};function lu(){this.buffer=[],this.length=0}lu.prototype={get:function(r){var e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)==1},put:function(r,e){for(var t=0;t<e;t++)this.putBit((r>>>e-t-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(r){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Wi=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function fu(r){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof r=="string"&&(r={content:r}),r)for(var e in r)this.options[e]=r[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function t(c){switch(c){case"L":return ut.L;case"M":return ut.M;case"Q":return ut.Q;case"H":return ut.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var l=i(c),h=1,f=0,v=0,m=Wi.length;v<=m;v++){var k=Wi[v];if(!k)throw new Error("Content too long: expected "+f+" but got "+l);switch(u){case"L":f=k[0];break;case"M":f=k[1];break;case"Q":f=k[2];break;case"H":f=k[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=f)break;h++}if(h>Wi.length)throw new Error("Content too long");return h}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=t(this.options.ecl);this.qrcode=new Qe(o,a),this.qrcode.addData(s),this.qrcode.make()}fu.prototype.svg=function(r){var e=this.options||{},t=this.qrcode.modules;typeof r>"u"&&(r={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=t.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,v=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,m=typeof e.predefined<"u"?!!e.predefined:!1,k=m?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",I=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,w="",S="",_=0;_<c;_++)for(var A=0;A<c;A++){var F=t[A][_];if(F){var q=A*u+e.padding*u,W=_*l+e.padding*l;if(f){var ie=q;q=W,W=ie}if(h){var J=u+q,Z=l+W;q=Number.isInteger(q)?Number(q):q.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),J=Number.isInteger(J)?Number(J):J.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),S+="M"+q+","+W+" V"+Z+" H"+J+" V"+W+" H"+q+" Z "}else m?w+=i+'<use x="'+q.toString()+'" y="'+W.toString()+'" href="#qrmodule" />'+s:w+=i+'<rect x="'+q.toString()+'" y="'+W.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(w=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+S+'" />');let re="";if(this.options.image!==void 0&&this.options.image.svg){const he=o*this.options.image.width/100,oe=a*this.options.image.height/100,Ae=o/2-he/2,ve=a/2-oe/2;re+=`<svg x="${Ae}" y="${ve}" width="${he}" height="${oe}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,re+=this.options.image.svg+s,re+="</svg>"}var N="";switch(r.container){case"svg":v&&(N+='<?xml version="1.0" standalone="yes"?>'+s),N+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,N+=k+I+w,N+=re,N+="</svg>";break;case"svg-viewbox":v&&(N+='<?xml version="1.0" standalone="yes"?>'+s),N+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,N+=k+I+w,N+=re,N+="</svg>";break;case"g":N+='<g width="'+o+'" height="'+a+'">'+s,N+=k+I+w,N+=re,N+="</g>";break;default:N+=(k+I+w+re).replace(/^\s+/,"");break}return N};var Ly=fu,Dy=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.QRCode=void 0;const jy=Ie,fa=Ur,Py=Dy(Ly),By=r=>{const[e,t]=(0,fa.useState)("");return(0,fa.useEffect)(()=>{var n,i;const s=new Py.default({content:r.content,background:r.bgColor||"#ffffff",color:r.fgColor||"#000000",container:"svg",ecl:"M",width:(n=r.width)!==null&&n!==void 0?n:256,height:(i=r.height)!==null&&i!==void 0?i:256,padding:0,image:r.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");t(`data:image/svg+xml;base64,${o}`)}),e?(0,jy.h)("img",{src:e,alt:"QR Code"}):null};Yn.QRCode=By;var Kn={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Fy=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Spinner=void 0;const tn=Ie,$y=Fy(Ys),Wy=r=>{var e;const t=(e=r.size)!==null&&e!==void 0?e:64,n=r.color||"#000";return(0,tn.h)("div",{class:"-cbwsdk-spinner"},(0,tn.h)("style",null,$y.default),(0,tn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t}},(0,tn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Kn.Spinner=Wy;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var hr=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.CoinbaseAppSteps=Ge.CoinbaseWalletSteps=Ge.ConnectItem=Ge.ConnectContent=void 0;const Ne=hr(zn),x=Ie,ha=Ur,Uy=E,Hy=qn,Vy=Gn,zy=hr(qs),qy=hr(Gs),hu=Qn,Gy=hr(Qs),Qy=hr(Zs),Zy=Zn,Yy=Yn,Ky=Kn,Jy=hr(Ks),da={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:qy.default,steps:pu},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:zy.default,steps:bu}},Xy=r=>{switch(r){case"coinbase-app":return Gy.default;case"coinbase-wallet-app":default:return Qy.default}},bs=r=>r==="light"?"#FFFFFF":"#0A0B0D";function eg(r){const{theme:e}=r,[t,n]=(0,ha.useState)("coinbase-wallet-app"),i=(0,ha.useCallback)(u=>{n(u)},[]),s=(0,Uy.createQrUrl)(r.sessionId,r.sessionSecret,r.linkAPIUrl,r.isParentConnection,r.version,r.chainId),o=da[t];if(!t)return null;const a=o.steps,c=t==="coinbase-app";return(0,x.h)("div",{"data-testid":"connect-content",class:(0,Ne.default)("-cbwsdk-connect-content",e)},(0,x.h)("style",null,Jy.default),(0,x.h)("div",{class:"-cbwsdk-connect-content-header"},(0,x.h)("h2",{class:(0,Ne.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),r.onCancel&&(0,x.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:r.onCancel},(0,x.h)(Vy.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,x.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,x.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,x.h)("div",null,Object.entries(da).map(([u,l])=>(0,x.h)(du,{key:u,title:l.title,description:l.description,icon:l.icon,selected:t===u,onClick:()=>i(u),theme:e}))),c&&(0,x.h)("div",{class:(0,Ne.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,x.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,x.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,x.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,x.h)(Yy.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:Xy(t),width:25,height:25}}),(0,x.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:Hy.LIB_VERSION}),(0,x.h)("input",{type:"hidden",value:s})),(0,x.h)(a,{theme:e}),!r.isConnected&&(0,x.h)("div",{"data-testid":"connecting-spinner",class:(0,Ne.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,x.h)(Ky.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,x.h)("p",null,"Connecting...")))))}Ge.ConnectContent=eg;function du({title:r,description:e,icon:t,selected:n,theme:i,onClick:s}){return(0,x.h)("div",{onClick:s,class:(0,Ne.default)("-cbwsdk-connect-item",i,{selected:n})},(0,x.h)("div",null,(0,x.h)("img",{src:t,alt:r})),(0,x.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,x.h)("h3",{class:"-cbwsdk-connect-item-title"},r),(0,x.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Ge.ConnectItem=du;function pu({theme:r}){return(0,x.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,x.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",r)},(0,x.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,x.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",r)},(0,x.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,x.h)("span",null,"Tap ",(0,x.h)("strong",null,"Scan")," "),(0,x.h)("span",{class:(0,Ne.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",r)},(0,x.h)(hu.QRCodeIcon,{fill:bs(r)})))))}Ge.CoinbaseWalletSteps=pu;function bu({theme:r}){return(0,x.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,x.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",r)},(0,x.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,x.h)("li",{class:(0,Ne.default)("-cbwsdk-wallet-steps-item",r)},(0,x.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,x.h)("span",null,"Tap ",(0,x.h)("strong",null,"More")),(0,x.h)("span",{class:(0,Ne.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",r)},(0,x.h)(Zy.StatusDotIcon,{fill:bs(r)})),(0,x.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,x.h)("strong",null,"Scan")),(0,x.h)("span",{class:(0,Ne.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",r)},(0,x.h)(hu.QRCodeIcon,{fill:bs(r)})))))}Ge.CoinbaseAppSteps=bu;var Jn={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.ArrowLeftIcon=void 0;const pa=Ie;function tg(r){return(0,pa.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r),(0,pa.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Xn.ArrowLeftIcon=tg;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.LaptopIcon=void 0;const Ui=Ie;function rg(r){return(0,Ui.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},r),(0,Ui.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Ui.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ei.LaptopIcon=rg;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.SafeIcon=void 0;const ba=Ie;function ng(r){return(0,ba.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},r),(0,ba.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ti.SafeIcon=ng;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var yu=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.TryExtensionContent=void 0;const gt=yu(zn),ne=Ie,Hi=Ur,ig=Xn,sg=ei,og=ti,ag=yu(Js);function cg({theme:r}){const[e,t]=(0,Hi.useState)(!1),n=(0,Hi.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Hi.useCallback)(()=>{e?window.location.reload():(n(),t(!0))},[n,e]);return(0,ne.h)("div",{class:(0,gt.default)("-cbwsdk-try-extension",r)},(0,ne.h)("style",null,ag.default),(0,ne.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ne.h)("h3",{class:(0,gt.default)("-cbwsdk-try-extension-heading",r)},"Or try the Coinbase Wallet browser extension"),(0,ne.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,ne.h)("button",{class:(0,gt.default)("-cbwsdk-try-extension-cta",r),onClick:i},e?"Refresh":"Install"),(0,ne.h)("div",null,!e&&(0,ne.h)(ig.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:r==="light"?"#0052FF":"#588AF5"})))),(0,ne.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,ne.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,ne.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ne.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ne.h)("span",{class:(0,gt.default)("-cbwsdk-try-extension-list-item-icon",r)},(0,ne.h)(sg.LaptopIcon,{fill:r==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ne.h)("div",{class:(0,gt.default)("-cbwsdk-try-extension-list-item-copy",r)},"Connect with dapps with just one click on your desktop browser")),(0,ne.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,ne.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,ne.h)("span",{class:(0,gt.default)("-cbwsdk-try-extension-list-item-icon",r)},(0,ne.h)(og.SafeIcon,{fill:r==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ne.h)("div",{class:(0,gt.default)("-cbwsdk-try-extension-list-item-copy",r)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Jn.TryExtensionContent=cg;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var gu=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.ConnectDialog=void 0;const Vi=gu(zn),vt=Ie,zi=Ur,ug=Ge,lg=Jn,fg=gu(Xs),hg=r=>{const{isOpen:e,darkMode:t}=r,[n,i]=(0,zi.useState)(!e),[s,o]=(0,zi.useState)(!e);(0,zi.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[r.isOpen]);const a=t?"dark":"light";return(0,vt.h)("div",{class:(0,Vi.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,vt.h)("style",null,fg.default),(0,vt.h)("div",{class:(0,Vi.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,vt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,vt.h)("div",{class:(0,Vi.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},r.connectDisabled?null:(0,vt.h)(ug.ConnectContent,{theme:a,version:r.version,sessionId:r.sessionId,sessionSecret:r.sessionSecret,linkAPIUrl:r.linkAPIUrl,isConnected:r.isConnected,isParentConnection:r.isParentConnection,chainId:r.chainId,onCancel:r.onCancel}),(0,vt.h)(lg.TryExtensionContent,{theme:a}))))};Vn.ConnectDialog=hg;Object.defineProperty(Wn,"__esModule",{value:!0});Wn.LinkFlow=void 0;const qi=Ie,ya=Hn,dg=Vn;class pg{constructor(e){this.extensionUI$=new ya.BehaviorSubject({}),this.subscriptions=new ya.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(t=>{this.isConnected!==t&&(this.isConnected=t,this.render())})),this.subscriptions.add(this.chainId$.subscribe(t=>{this.chainId!==t&&(this.chainId=t,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,qi.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,qi.render)((0,qi.h)(dg.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Wn.LinkFlow=pg;var vu={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(r){var e=D&&D.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(r,"__esModule",{value:!0}),r.SnackbarInstance=r.SnackbarContainer=r.Snackbar=void 0;const t=e(zn),n=Ie,i=Ur,s=e(eo),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const v=this.nextItemKey++;return this.items.set(v,f),this.render(),()=>{this.items.delete(v),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(r.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,v])=>(0,n.h)(r.SnackbarInstance,Object.assign({},v,{key:f}))))),this.root)}}r.Snackbar=c;const u=h=>(0,n.h)("div",{class:(0,t.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));r.SnackbarContainer=u;const l=({autoExpand:h,message:f,menuItems:v,appSrc:m})=>{const[k,I]=(0,i.useState)(!0),[w,S]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const A=[window.setTimeout(()=>{I(!1)},1),window.setTimeout(()=>{S(!0)},1e4)];return()=>{A.forEach(window.clearTimeout)}});const _=()=>{S(!w)};return(0,n.h)("div",{class:(0,t.default)("-cbwsdk-snackbar-instance",k&&"-cbwsdk-snackbar-instance-hidden",w&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:_},(0,n.h)("img",{src:a(m),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!w&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),v&&v.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},v.map((A,F)=>(0,n.h)("div",{class:(0,t.default)("-cbwsdk-snackbar-instance-menu-item",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:A.onClick,key:F},(0,n.h)("svg",{width:A.svgWidth,height:A.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":A.defaultFillRule,"clip-rule":A.defaultClipRule,d:A.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,t.default)("-cbwsdk-snackbar-instance-menu-item-info",A.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},A.info)))))};r.SnackbarInstance=l})(vu);var ri={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var bg=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ri,"__esModule",{value:!0});ri.injectCssReset=void 0;const yg=bg(to);function gg(){const r=document.createElement("style");r.type="text/css",r.appendChild(document.createTextNode(yg.default)),document.documentElement.appendChild(r)}ri.injectCssReset=gg;Object.defineProperty($n,"__esModule",{value:!0});$n.WalletSDKUI=void 0;const vg=Wn,mg=vu,wg=ri;class Sg{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new mg.Snackbar({darkMode:e.darkMode}),this.linkFlow=new vg.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,wg.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let t;return e.isUnlinkedErrorState?t={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:t={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}$n.WalletSDKUI=Sg;var ni={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});var Ut;(function(r){r.typeOfFunction="function",r.boolTrue=!0})(Ut||(Ut={}));function mu(r,e,t){if(!t||typeof t.value!==Ut.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Ut.boolTrue,get:function(){var n=t.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Ut.boolTrue,writable:Ut.boolTrue}),n}}}ii.bind=mu;ii.default=mu;function wu(r){return function(t){return t.lift(new _g(r))}}var _g=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Eg(e,this.durationSelector))},r}(),Eg=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(o){return this.destination.error(o)}var s=te(n,new X(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,s=t.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ee);function Cg(r,e){return e===void 0&&(e=_e),wu(function(){return su(r,e)})}function kg(r){return function(t){return t.lift(new xg(r))}}var xg=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Ig(e,this.closingNotifier))},r}(),Ig=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(te(n,new X(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(ee);function Ag(r,e){return e===void 0&&(e=null),function(n){return n.lift(new Mg(r,e))}}var Mg=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=Og:this.subscriberClass=Tg}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),Og=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(C),Tg=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(t){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(t),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}r.prototype._complete.call(this)},e}(C);function Rg(r){var e=arguments.length,t=_e;xe(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Ng(r,n,i,t))}}var Ng=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Dg(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),Lg=function(){function r(){this.buffer=[]}return r}(),Dg=function(r){y(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(ga,n,u))}else{var l={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(Su,n,l)),a.add(o.schedule(jg,i,h))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(ga,i,s))}},e.prototype.openContext=function(){var t=new Lg;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(C);function ga(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function jg(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Su,t,{subscriber:n,context:s})),o.schedule(r,e))}function Su(r){var e=r.subscriber,t=r.context;e.closeContext(t)}function Pg(r,e){return function(n){return n.lift(new Bg(r,e))}}var Bg=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new Fg(e,this.openings,this.closingSelector))},r}(),Fg=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.closingSelector=i,s.contexts=[],s.add(et(s,n)),s}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,s=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],s=new K,o={buffer:i,subscription:s};n.push(o);var a=et(this,t,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Tt);function $g(r){return function(e){return e.lift(new Wg(r))}}var Wg=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Ug(e,this.closingSelector))},r}(),Ug=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}t=new K,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(te(i,new X(this))),this.subscribing=!1},e}(ee);function Hg(r){return function(t){var n=new Vg(r),i=t.lift(n);return n.caught=i}}var Vg=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new zg(e,this.selector,this.caught))},r}(),zg=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(o){r.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new X(this);this.add(i);var s=te(n,i);s!==i&&this.add(s)}},e}(ee);function qg(r){return function(e){return e.lift(new Hs(r))}}function Gg(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&Se(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(tt([n].concat(r)),new Hs(t))}}function Qg(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(xr.apply(void 0,[t].concat(r)))}}function _u(r,e){return Mt(r,e,1)}function Zg(r,e){return _u(function(){return r},e)}function Yg(r){return function(e){return e.lift(new Kg(r,e))}}var Kg=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Jg(e,this.predicate,this.source))},r}(),Jg=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(C);function Xg(r){return function(e){return e.lift(new e0(r))}}var e0=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new t0(e,this.durationSelector))},r}(),t0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=te(n,new X(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(ee);function r0(r,e){return e===void 0&&(e=_e),function(t){return t.lift(new n0(r,e))}}var n0=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new i0(e,this.dueTime,this.scheduler))},r}(),i0=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s0,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(C);function s0(r){r.debouncedNext()}function Hr(r){return r===void 0&&(r=null),function(e){return e.lift(new o0(r))}}var o0=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new a0(e,this.defaultValue))},r}(),a0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(C);function Eu(r){return r instanceof Date&&!isNaN(+r)}function c0(r,e){e===void 0&&(e=_e);var t=Eu(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new u0(n,e))}}var u0=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new l0(e,this.delay,this.scheduler))},r}(),l0=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(t){for(var n=t.source,i=n.queue,s=t.scheduler,o=t.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new f0(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(Xe.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Xe.createComplete()),this.unsubscribe()},e}(C),f0=function(){function r(e,t){this.time=e,this.notification=t}return r}();function h0(r,e){return e?function(t){return new p0(t,e).lift(new va(r))}:function(t){return t.lift(new va(r))}}var va=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new d0(e,this.delayDurationSelector))},r}(),d0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,s,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=et(this,t,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Tt),p0=function(r){y(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new b0(t,this.source))},e}(R),b0=function(r){y(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(C);function y0(){return function(e){return e.lift(new g0)}}var g0=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new v0(e))},r}(),v0=function(r){y(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(C);function m0(r,e){return function(t){return t.lift(new w0(r,e))}}var w0=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new S0(e,this.keySelector,this.flushes))},r}(),S0=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.keySelector=n,s.values=new Set,i&&s.add(te(i,new X(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(s){i.error(s);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(ee);function Cu(r,e){return function(t){return t.lift(new _0(r,e))}}var _0=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new E0(e,this.compare,this.keySelector))},r}(),E0=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(t))},e}(C);function C0(r,e){return Cu(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}function si(r){return r===void 0&&(r=I0),function(e){return e.lift(new k0(r))}}var k0=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new x0(e,this.errorFactory))},r}(),x0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(C);function I0(){return new Wr}function ro(r){return function(e){return r===0?lr():e.lift(new A0(r))}}var A0=function(){function r(e){if(this.total=e,this.total<0)throw new er}return r.prototype.call=function(e,t){return t.subscribe(new M0(e,this.total))},r}(),M0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(C);function O0(r,e){if(r<0)throw new er;var t=arguments.length>=2;return function(n){return n.pipe(pt(function(i,s){return s===r}),ro(1),t?Hr(e):si(function(){return new er}))}}function T0(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return xr(t,Un.apply(void 0,r))}}function R0(r,e){return function(t){return t.lift(new N0(r,e,t))}}var N0=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new L0(e,this.predicate,this.thisArg,this.source))},r}(),L0=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(C);function D0(){return function(r){return r.lift(new j0)}}var j0=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new P0(e))},r}(),P0=function(r){y(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(te(t,new X(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ee);function ku(r,e){return e?function(t){return t.pipe(ku(function(n,i){return tt(r(n,i)).pipe(De(function(s,o){return e(n,s,i,o)}))}))}:function(t){return t.lift(new B0(r))}}var B0=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new F0(e,this.project))},r}(),F0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new X(this),i=this.destination;i.add(n);var s=te(t,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ee);function $0(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new W0(r,e,t))}}var W0=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new U0(e,this.project,this.concurrent,this.scheduler))},r}(),U0=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(t){var n=t.subscriber,i=t.result,s=t.value,o=t.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var s=this.project,o=s(t,i);if(!this.scheduler)this.subscribeToProjection(o,t,i);else{var a={subscriber:this,result:o,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var s=this.destination;s.add(te(t,new X(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(ee);function H0(r){return function(e){return e.lift(new V0(r))}}var V0=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new z0(e,this.callback))},r}(),z0=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new K(n)),i}return e}(C);function q0(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new xu(r,t,!1,e))}}var xu=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new G0(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}(),G0=function(r){y(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,t,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(C);function Q0(r,e){return function(t){return t.lift(new xu(r,t,!0,e))}}function Z0(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?pt(function(i,s){return r(i,s,n)}):ht,ro(1),t?Hr(e):si(function(){return new Wr}))}}function Y0(){return function(e){return e.lift(new K0)}}var K0=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new J0(e))},r}(),J0=function(r){y(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(C);function X0(){return function(r){return r.lift(new ev)}}var ev=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new tv(e))},r}(),tv=function(r){y(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(C);function wn(r){return function(t){return r===0?lr():t.lift(new rv(r))}}var rv=function(){function r(e){if(this.total=e,this.total<0)throw new er}return r.prototype.call=function(e,t){return t.subscribe(new nv(e,this.total))},r}(),nv=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(t);else{var o=s%i;n[o]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;t.next(s[a])}t.complete()},e}(C);function iv(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?pt(function(i,s){return r(i,s,n)}):ht,wn(1),t?Hr(e):si(function(){return new Wr}))}}function sv(r){return function(e){return e.lift(new ov(r))}}var ov=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new av(e,this.value))},r}(),av=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(C);function cv(){return function(e){return e.lift(new uv)}}var uv=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new lv(e))},r}(),lv=function(r){y(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(Xe.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(Xe.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(Xe.createComplete()),t.complete()},e}(C);function Sn(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new fv(r,e,t))}}var fv=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new hv(e,this.accumulator,this.seed,this.hasSeed))},r}(),hv=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(C);function oi(r,e){return arguments.length>=2?function(n){return us(Sn(r,e),wn(1),Hr(e))(n)}:function(n){return us(Sn(function(i,s,o){return r(i,s,o+1)}),wn(1))(n)}}function dv(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return oi(e)}function pv(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(tu.apply(void 0,[t].concat(r)))}}function bv(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?Mt(function(){return r},e,t):(typeof e=="number"&&(t=e),Mt(function(){return r},t))}function yv(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new gv(r,e,t))}}var gv=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new vv(e,this.accumulator,this.seed,this.concurrent))},r}(),vv=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new X(this),i=this.destination;i.add(n);var s=te(t,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(ee);function mv(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return oi(e)}function Ot(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new wv(i,e));var s=Object.create(n,cb);return s.source=n,s.subjectFactory=i,s}}var wv=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(t.subscribe(i)),s},r}();function Sv(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&Se(r[0])&&(r=r[0]),function(t){return t.lift(new _v(r))}}var _v=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new Ev(e,this.nextSources))},r}(),Ev=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new X(this),i=this.destination;i.add(n);var s=te(t,n);s!==n&&i.add(s)}else this.destination.complete()},e}(ee);function Cv(){return function(r){return r.lift(new kv)}}var kv=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new xv(e))},r}(),xv=function(r){y(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(C);function Iv(r,e){return function(t){return[pt(r,e)(t),pt(nu(r,e))(t)]}}function Av(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return De(Mv(r,t))(n)}}function Mv(r,e){var t=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[r[s]]:void 0;if(o!==void 0)i=o;else return}return i};return t}function Ov(r){return r?Ot(function(){return new le},r):Ot(new le)}function Tv(r){return function(e){return Ot(new jc(r))(e)}}function Rv(){return function(r){return Ot(new fr)(r)}}function Nv(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,s=new Us(r,e,n);return function(o){return Ot(function(){return s},i)(o)}}function Lv(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&Se(r[0])&&(r=r[0]),n.lift.call(iu.apply(void 0,[n].concat(r)))}}function Dv(r){return r===void 0&&(r=-1),function(e){return r===0?lr():r<0?e.lift(new ma(-1,e)):e.lift(new ma(r-1,e))}}var ma=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new jv(e,this.count,this.source))},r}(),jv=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(C);function Pv(r){return function(e){return e.lift(new Bv(r))}}var Bv=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new Fv(e,this.notifier,t))},r}(),Fv=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new le;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=te(t,new X(this))},e}(ee);function $v(r){return r===void 0&&(r=-1),function(e){return e.lift(new Wv(r,e))}}var Wv=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new Uv(e,this.count,this.source))},r}(),Uv=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return r.prototype.error.call(this,t);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(C);function Hv(r){return function(e){return e.lift(new Vv(r,e))}}var Vv=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new zv(e,this.notifier,this.source))},r}(),zv=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new le;try{var o=this.notifier;i=o(n)}catch(a){return r.prototype.error.call(this,a)}s=te(i,new X(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(ee);function qv(r){return function(e){return e.lift(new Gv(r))}}var Gv=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new Qv(e),i=t.subscribe(n);return i.add(te(this.notifier,new X(n))),i},r}(),Qv=function(r){y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ee);function Zv(r,e){return e===void 0&&(e=_e),function(t){return t.lift(new Yv(r,e))}}var Yv=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new Kv(e,this.period,this.scheduler))},r}(),Kv=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(Jv,n,{subscriber:s,period:n})),s}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(C);function Jv(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}function Xv(r,e){return function(t){return t.lift(new em(r,e))}}var em=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new tm(e,this.compareTo,this.comparator))},r}(),tm=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new rm(t,s))),s}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,s=t.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(C),rm=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(C);function nm(){return new le}function im(){return function(r){return Fs()(Ot(nm)(r))}}function sm(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(om(n))}}function om(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=r.refCount,o=r.scheduler,a,c=0,u,l=!1,h=!1;return function(v){c++;var m;!a||l?(l=!1,a=new Us(t,i,o),m=a.subscribe(this),u=v.subscribe({next:function(k){a.next(k)},error:function(k){l=!0,a.error(k)},complete:function(){h=!0,u=void 0,a.complete()}}),h&&(u=void 0)):m=a.subscribe(this),this.add(function(){c--,m.unsubscribe(),m=void 0,u&&!h&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function am(r){return function(e){return e.lift(new cm(r,e))}}var cm=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new um(e,this.predicate,this.source))},r}(),um=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Wr)},e}(C);function lm(r){return function(e){return e.lift(new fm(r))}}var fm=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new hm(e,this.total))},r}(),hm=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(C);function dm(r){return function(e){return e.lift(new pm(r))}}var pm=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new er}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new C(e)):t.subscribe(new bm(e,this._skipCount))},r}(),bm=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var s=i%n,o=this._ring,a=o[s];o[s]=t,this.destination.next(a)}},e}(C);function ym(r){return function(e){return e.lift(new gm(r))}}var gm=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new vm(e,this.notifier))},r}(),vm=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var s=new X(i);i.add(s),i.innerSubscription=s;var o=te(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(ee);function mm(r){return function(e){return e.lift(new wm(r))}}var wm=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new Sm(e,this.predicate))},r}(),Sm=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(C);function _m(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return xe(t)?(r.pop(),function(n){return xr(r,n,t)}):function(n){return xr(r,n)}}var Em=function(r){y(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=fn);var s=r.call(this)||this;return s.source=t,s.delayTime=n,s.scheduler=i,(!tr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=fn),s}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=fn),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(R);function Cm(r,e){return e===void 0&&(e=0),function(n){return n.lift(new km(r,e))}}var km=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new Em(t,this.delay,this.scheduler).subscribe(e)},r}();function Ir(r,e){return typeof e=="function"?function(t){return t.pipe(Ir(function(n,i){return tt(r(n,i)).pipe(De(function(s,o){return e(n,s,i,o)}))}))}:function(t){return t.lift(new xm(r))}}var xm=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new Im(e,this.project))},r}(),Im=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new X(this),s=this.destination;s.add(i),this.innerSubscription=te(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(ee);function Am(){return Ir(ht)}function Mm(r,e){return e?Ir(function(){return r},e):Ir(function(){return r})}function Om(r){return function(e){return e.lift(new Tm(r))}}var Tm=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new Rm(e),i=te(this.notifier,new X(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),Rm=function(r){y(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ee);function Nm(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new Lm(r,e))}}var Lm=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new Dm(e,this.predicate,this.inclusive))},r}(),Dm=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(C);function jm(r,e,t){return function(i){return i.lift(new Pm(r,e,t))}}var Pm=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new Bm(e,this.nextOrObserver,this.error,this.complete))},r}(),Bm=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o._tapNext=He,o._tapError=He,o._tapComplete=He,o._tapError=i||He,o._tapComplete=s||He,Jt(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||He,o._tapError=n.error||He,o._tapComplete=n.complete||He),o}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(C),Iu={leading:!0,trailing:!1};function Fm(r,e){return e===void 0&&(e=Iu),function(t){return t.lift(new $m(r,!!e.leading,!!e.trailing))}}var $m=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new Wm(e,this.durationSelector,this.leading,this.trailing))},r}(),Wm=function(r){y(e,r);function e(t,n,i,s){var o=r.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=te(n,new X(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(ee);function Um(r,e,t){return e===void 0&&(e=_e),t===void 0&&(t=Iu),function(n){return n.lift(new Hm(r,e,t.leading,t.trailing))}}var Hm=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new Vm(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),Vm=function(r){y(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(zm,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(C);function zm(r){var e=r.subscriber;e.clearThrottle()}function qm(r){return r===void 0&&(r=_e),function(e){return zs(function(){return e.pipe(Sn(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),De(function(t){var n=t.current,i=t.last,s=t.value;return new Gm(s,n-i)}))})}}var Gm=function(){function r(e,t){this.value=e,this.interval=t}return r}();function Au(r,e,t){return t===void 0&&(t=_e),function(n){var i=Eu(r),s=i?+r-t.now():Math.abs(r);return n.lift(new Qm(s,i,e,t))}}var Qm=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new Zm(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),Zm=function(r){y(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(te(n,new X(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(ee);function Ym(r,e){return e===void 0&&(e=_e),Au(r,Ws(new zc),e)}function Km(r){return r===void 0&&(r=_e),De(function(e){return new Jm(e,r.now())})}var Jm=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();function Xm(r,e,t){return t===0?[e]:(r.push(e),r)}function e1(){return oi(Xm,[])}function t1(r){return function(t){return t.lift(new r1(r))}}var r1=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new n1(e),i=t.subscribe(n);return i.closed||n.add(te(this.windowBoundaries,new X(n))),i},r}(),n1=function(r){y(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new le,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new le;n.next(i)},e}(ee);function i1(r,e){return e===void 0&&(e=0),function(n){return n.lift(new s1(r,e))}}var s1=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new o1(e,this.windowSize,this.startWindowEvery))},r}(),o1=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.destination=t,s.windowSize=n,s.startWindowEvery=i,s.windows=[new le],s.count=0,t.next(s.windows[0]),s}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(t);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var l=new le;o.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(C);function a1(r){var e=_e,t=null,n=Number.POSITIVE_INFINITY;return xe(arguments[3])&&(e=arguments[3]),xe(arguments[2])?e=arguments[2]:tr(arguments[2])&&(n=Number(arguments[2])),xe(arguments[1])?e=arguments[1]:tr(arguments[1])&&(t=Number(arguments[1])),function(s){return s.lift(new c1(r,t,n,e))}}var c1=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new l1(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),u1=function(r){y(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(le),l1=function(r){y(e,r);function e(t,n,i,s,o){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Mu,n,u)),a.add(o.schedule(h1,i,l))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(f1,n,h))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(t),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new u1;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(C);function f1(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function h1(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,s=t.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:t,window:s,context:a};a.subscription=n.schedule(Mu,e,c),o.add(a.subscription),o.schedule(r,i)}function Mu(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}function d1(r,e){return function(t){return t.lift(new p1(r,e))}}var p1=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new b1(e,this.openings,this.closingSelector))},r}(),b1=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=et(s,n,n)),s}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(t),o.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var s=t[i];s.window.complete(),s.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var s=t[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,s,o){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(v){return this.error(v)}var u=new le,l=new K,h={window:u,subscription:l};this.contexts.push(h);var f=et(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],s=i.window,o=i.subscription;n.splice(t,1),s.complete(),o.unsubscribe()}},e}(Tt);function y1(r){return function(t){return t.lift(new g1(r))}}var g1=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new v1(e,this.closingSelector))},r}(),v1=function(r){y(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new le;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=et(this,s))},e}(Tt);function m1(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new w1(i,n))}}var w1=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new S1(e,this.observables,this.project))},r}(),S1=function(r){y(e,r);function e(t,n,i){var s=r.call(this,t)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(et(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Tt);function _1(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(ou.apply(void 0,[n].concat(r)))}}function E1(r){return function(e){return e.lift(new au(r))}}const C1=Object.freeze(Object.defineProperty({__proto__:null,audit:wu,auditTime:Cg,buffer:kg,bufferCount:Ag,bufferTime:Rg,bufferToggle:Pg,bufferWhen:$g,catchError:Hg,combineAll:qg,combineLatest:Gg,concat:Qg,concatAll:Kc,concatMap:_u,concatMapTo:Zg,count:Yg,debounce:Xg,debounceTime:r0,defaultIfEmpty:Hr,delay:c0,delayWhen:h0,dematerialize:y0,distinct:m0,distinctUntilChanged:Cu,distinctUntilKeyChanged:C0,elementAt:O0,endWith:T0,every:R0,exhaust:D0,exhaustMap:ku,expand:$0,filter:pt,finalize:H0,find:q0,findIndex:Q0,first:Z0,flatMap:ry,groupBy:lb,ignoreElements:Y0,isEmpty:X0,last:iv,map:De,mapTo:sv,materialize:cv,max:dv,merge:pv,mergeAll:Vs,mergeMap:Mt,mergeMapTo:bv,mergeScan:yv,min:mv,multicast:Ot,observeOn:wb,onErrorResumeNext:Sv,pairwise:Cv,partition:Iv,pluck:Av,publish:Ov,publishBehavior:Tv,publishLast:Rv,publishReplay:Nv,race:Lv,reduce:oi,refCount:Fs,repeat:Dv,repeatWhen:Pv,retry:$v,retryWhen:Hv,sample:qv,sampleTime:Zv,scan:Sn,sequenceEqual:Xv,share:im,shareReplay:sm,single:am,skip:lm,skipLast:dm,skipUntil:ym,skipWhile:mm,startWith:_m,subscribeOn:Cm,switchAll:Am,switchMap:Ir,switchMapTo:Mm,take:ro,takeLast:wn,takeUntil:Om,takeWhile:Nm,tap:jm,throttle:Fm,throttleTime:Um,throwIfEmpty:si,timeInterval:qm,timeout:Ym,timeoutWith:Au,timestamp:Km,toArray:e1,window:t1,windowCount:i1,windowTime:a1,windowToggle:d1,windowWhen:y1,withLatestFrom:m1,zip:_1,zipAll:E1},Symbol.toStringTag,{value:"Module"})),no=ir(C1);var ai={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.ClientMessagePublishEvent=Re.ClientMessageSetSessionConfig=Re.ClientMessageGetSessionConfig=Re.ClientMessageIsLinked=Re.ClientMessageHostSession=void 0;function k1(r){return Object.assign({type:"HostSession"},r)}Re.ClientMessageHostSession=k1;function x1(r){return Object.assign({type:"IsLinked"},r)}Re.ClientMessageIsLinked=x1;function I1(r){return Object.assign({type:"GetSessionConfig"},r)}Re.ClientMessageGetSessionConfig=I1;function A1(r){return Object.assign({type:"SetSessionConfig"},r)}Re.ClientMessageSetSessionConfig=A1;function M1(r){return Object.assign({type:"PublishEvent"},r)}Re.ClientMessagePublishEvent=M1;var Ou={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RxWebSocket=r.ConnectionState=void 0;const e=Hn,t=no;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=r.ConnectionState||(r.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,t.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,t.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}r.RxWebSocket=i})(Ou);var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.isServerMessageFail=void 0;function O1(r){return r&&r.type==="Fail"&&typeof r.id=="number"&&typeof r.sessionId=="string"&&typeof r.error=="string"}ci.isServerMessageFail=O1;Object.defineProperty(ai,"__esModule",{value:!0});ai.WalletSDKConnection=void 0;const je=Hn,B=no,br=ar,Pt=Tr,yr=Re,gr=or,rn=Ou,Gi=ci,wa=1e4,T1=6e4;class R1{constructor(e,t,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=t,this.diagnostic=i,this.subscriptions=new je.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Pt.IntNumber)(1),this.connectedSubject=new je.BehaviorSubject(!1),this.linkedSubject=new je.BehaviorSubject(!1),this.sessionConfigSubject=new je.ReplaySubject(1);const o=new rn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,B.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(gr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:br.Session.hash(e)})}),(0,B.skip)(1),(0,B.filter)(a=>a===rn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,B.delay)(5e3),(0,B.filter)(a=>!this.destroyed),(0,B.flatMap)(a=>o.connect()),(0,B.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,B.skip)(2),(0,B.switchMap)(a=>(0,je.iif)(()=>a===rn.ConnectionState.CONNECTED,this.authenticate().pipe((0,B.tap)(c=>this.sendIsLinked()),(0,B.tap)(c=>this.sendGetSessionConfig()),(0,B.map)(c=>!0)),(0,je.of)(!1))),(0,B.distinctUntilChanged)(),(0,B.catchError)(a=>(0,je.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,B.skip)(1),(0,B.switchMap)(a=>(0,je.iif)(()=>a===rn.ConnectionState.CONNECTED,(0,je.timer)(0,wa)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,B.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,B.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(gr.EVENTS.LINKED,{sessionIdHash:br.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,B.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(gr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:br.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(gr.EVENTS.STARTED_CONNECTING,{sessionIdHash:br.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(gr.EVENTS.DISCONNECTED,{sessionIdHash:br.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,B.filter)(e=>e),(0,B.take)(1),(0,B.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,B.filter)(e=>e),(0,B.take)(1),(0,B.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,B.filter)(e=>{if(e.type!=="Event")return!1;const t=e;return typeof t.sessionId=="string"&&typeof t.eventId=="string"&&typeof t.event=="string"&&typeof t.data=="string"}),(0,B.map)(e=>e))}setSessionMetadata(e,t){const n=(0,yr.ClientMessageSetSessionConfig)({id:(0,Pt.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:t}});return this.onceConnected$.pipe((0,B.flatMap)(i=>this.makeRequest(n)),(0,B.map)(i=>{if((0,Gi.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,t,n=!1){const i=(0,yr.ClientMessagePublishEvent)({id:(0,Pt.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:t,callWebhook:n});return this.onceLinked$.pipe((0,B.flatMap)(s=>this.makeRequest(i)),(0,B.map)(s=>{if((0,Gi.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>wa*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,t=T1){const n=e.id;try{this.sendData(e)}catch(i){return(0,je.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,B.timeoutWith)(t,(0,je.throwError)(new Error(`request ${n} timed out`))),(0,B.filter)(i=>i.id===n),(0,B.take)(1))}authenticate(){const e=(0,yr.ClientMessageHostSession)({id:(0,Pt.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,B.map)(t=>{if((0,Gi.isServerMessageFail)(t))throw new Error(t.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,yr.ClientMessageIsLinked)({id:(0,Pt.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,yr.ClientMessageGetSessionConfig)({id:(0,Pt.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ai.WalletSDKConnection=R1;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.WalletUIError=void 0;class Ar extends Error{constructor(e,t){super(e),this.message=e,this.errorCode=t}}ui.WalletUIError=Ar;Ar.UserRejectedRequest=new Ar("User rejected request");Ar.SwitchEthereumChainUnsupportedChainId=new Ar("Unsupported chainId",4902);var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.decrypt=rr.encrypt=void 0;const _n=E;async function N1(r,e){if(e.length!==64)throw Error("secret must be 256 bits");const t=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,_n.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},n,i.encode(r)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),h=new Uint8Array([...t,...u,...l]);return(0,_n.uint8ArrayToHex)(h)}rr.encrypt=N1;function L1(r,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((t,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,_n.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,_n.hexStringToUint8Array)(r),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(l,i,u),f=new TextDecoder;t(f.decode(h))}catch(h){n(h)}})()})}rr.decrypt=L1;var io={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(r.Web3Method||(r.Web3Method={}))})(io);var li={},fi={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(r.RelayMessageType||(r.RelayMessageType={}))})(fi);Object.defineProperty(li,"__esModule",{value:!0});li.Web3RequestCanceledMessage=void 0;const D1=fi;function j1(r){return{type:D1.RelayMessageType.WEB3_REQUEST_CANCELED,id:r}}li.Web3RequestCanceledMessage=j1;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.Web3RequestMessage=void 0;const P1=fi;function B1(r){return Object.assign({type:P1.RelayMessageType.WEB3_REQUEST},r)}hi.Web3RequestMessage=B1;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.EthereumAddressFromSignedMessageResponse=Q.SubmitEthereumTransactionResponse=Q.SignEthereumTransactionResponse=Q.SignEthereumMessageResponse=Q.isRequestEthereumAccountsResponse=Q.SelectProviderResponse=Q.WatchAssetReponse=Q.RequestEthereumAccountsResponse=Q.SwitchEthereumChainResponse=Q.AddEthereumChainResponse=Q.ErrorResponse=void 0;const Ze=io;function F1(r,e,t){return{method:r,errorMessage:e,errorCode:t}}Q.ErrorResponse=F1;function $1(r){return{method:Ze.Web3Method.addEthereumChain,result:r}}Q.AddEthereumChainResponse=$1;function W1(r){return{method:Ze.Web3Method.switchEthereumChain,result:r}}Q.SwitchEthereumChainResponse=W1;function U1(r){return{method:Ze.Web3Method.requestEthereumAccounts,result:r}}Q.RequestEthereumAccountsResponse=U1;function H1(r){return{method:Ze.Web3Method.watchAsset,result:r}}Q.WatchAssetReponse=H1;function V1(r){return{method:Ze.Web3Method.selectProvider,result:r}}Q.SelectProviderResponse=V1;function z1(r){return r&&r.method===Ze.Web3Method.requestEthereumAccounts}Q.isRequestEthereumAccountsResponse=z1;function q1(r){return{method:Ze.Web3Method.signEthereumMessage,result:r}}Q.SignEthereumMessageResponse=q1;function G1(r){return{method:Ze.Web3Method.signEthereumTransaction,result:r}}Q.SignEthereumTransactionResponse=G1;function Q1(r){return{method:Ze.Web3Method.submitEthereumTransaction,result:r}}Q.SubmitEthereumTransactionResponse=Q1;function Z1(r){return{method:Ze.Web3Method.ethereumAddressFromSignedMessage,result:r}}Q.EthereumAddressFromSignedMessageResponse=Z1;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.isWeb3ResponseMessage=nr.Web3ResponseMessage=void 0;const Tu=fi;function Y1(r){return Object.assign({type:Tu.RelayMessageType.WEB3_RESPONSE},r)}nr.Web3ResponseMessage=Y1;function K1(r){return r&&r.type===Tu.RelayMessageType.WEB3_RESPONSE}nr.isWeb3ResponseMessage=K1;var J1=D&&D.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),X1=D&&D.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ru=D&&D.__decorate||function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ew=D&&D.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&J1(e,r,t);return X1(e,r),e},tw=D&&D.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ni,"__esModule",{value:!0});ni.WalletSDKRelay=void 0;const Nu=tw(ii),Sa=Mr,mt=Hn,se=no,be=or,rw=ai,Qi=ui,nw=Tr,G=E,nt=ew(rr),it=ar,nn=Fe,ae=io,iw=li,sw=hi,Ce=Q,me=nr;class Be extends nn.WalletSDKRelayAbstract{constructor(e){var t;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new mt.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new mt.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(t=e.reloadOnDisconnect)!==null&&t!==void 0?t:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=it.Session.load(this.storage)||new it.Session(this.storage).save(),t=new rw.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(t.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(t.incomingEvent$.pipe((0,se.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(t.linked$.pipe((0,se.skip)(1),(0,se.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(nn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(be.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(t.sessionConfig$.pipe((0,se.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=t.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(t.sessionConfig$.pipe((0,se.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,se.mergeMap)(i=>nt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(nn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,se.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,se.mergeMap)(i=>nt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(nn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,se.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,se.mergeMap)(i=>(0,mt.zip)(nt.decrypt(i.metadata.ChainId,e.secret),nt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,se.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,se.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,se.mergeMap)(i=>nt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Be.accountRequestCallbackIds.size>0&&(Array.from(Be.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,me.Web3ResponseMessage)({id:s,response:(0,Ce.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Be.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(t.sessionConfig$.pipe((0,se.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,se.mergeMap)(i=>nt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:t.connected$,chainId$:this.dappDefaultChainSubject});return t.connect(),{session:e,ui:n,connection:t}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,se.timeout)(1e3),(0,se.catchError)(e=>(0,mt.of)(null))).subscribe(e=>{var t,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(t=this.diagnostic)===null||t===void 0||t.log(be.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(be.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=it.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(be.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new mt.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var t;(t=this.diagnostic)===null||t===void 0||t.log(be.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,n,i){return this.sendRequest({method:ae.Web3Method.signEthereumMessage,params:{message:(0,G.hexStringFromBuffer)(e,!0),address:t,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,t,n){return this.sendRequest({method:ae.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,G.hexStringFromBuffer)(e,!0),signature:(0,G.hexStringFromBuffer)(t,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ae.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,G.bigIntStringFromBN)(e.weiValue),data:(0,G.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,G.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,G.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,G.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,G.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ae.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,G.bigIntStringFromBN)(e.weiValue),data:(0,G.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,G.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,G.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,G.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,G.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:ae.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,G.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:ae.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,G.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:ae.Web3Method.generic,params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null;const n=(0,G.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),t==null||t()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(t==null||t(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,t){var n;const i=(0,sw.Web3RequestMessage)({id:e,request:t}),s=it.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(be.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?it.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(be.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?it.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const t=(0,iw.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",t,!1).subscribe())}publishEvent(e,t,n){const i=this.session.secret;return new mt.Observable(s=>{nt.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,se.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,mt.from)(nt.decrypt(e.data,this.session.secret)).pipe((0,se.map)(t=>JSON.parse(t))).subscribe({next:t=>{const n=(0,me.isWeb3ResponseMessage)(t)?t:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var t;(t=this.diagnostic)===null||t===void 0||t.log(be.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var t;const{response:n}=e;if((t=this.diagnostic)===null||t===void 0||t.log(be.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ce.isRequestEthereumAccountsResponse)(n)){Be.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Be.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,t,n,i){this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:e,response:(0,Ce.ErrorResponse)(t,(n??Qi.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ae.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},t=(0,G.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(t),this.handleErrorResponse(t,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(t,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,G.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:t,response:(0,Ce.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=Sa.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}Be.accountRequestCallbackIds.add(t),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(t,e)}),cancel:n}}selectProvider(e){const t={method:ae.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,G.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:n,response:(0,Ce.SelectProviderResponse)(nw.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:n,response:(0,Ce.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,t,n,i,s,o){const a={method:ae.Web3Method.watchAsset,params:{type:e,options:{address:t,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,G.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const h=new Promise((f,v)=>{this.relayEventManager.callbacks.set(u,I=>{if(c==null||c(),I.errorMessage)return v(new Error(I.errorMessage));f(I)});const m=I=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:u,response:(0,Ce.WatchAssetReponse)(!1)}))},k=()=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:u,response:(0,Ce.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:k,onCancel:m,type:e,address:t,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:h}}addEthereumChain(e,t,n,i,s,o){const a={method:ae.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:t,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,G.randomBytesHex)(8),l=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((f,v)=>{this.relayEventManager.callbacks.set(u,I=>{if(c==null||c(),I.errorMessage)return v(new Error(I.errorMessage));f(I)});const m=I=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:u,response:(0,Ce.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},k=I=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:u,response:(0,Ce.AddEthereumChainResponse)({isApproved:!0,rpcUrl:I})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:m,onApprove:k,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,t){const n={method:ae.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:t})},i=(0,G.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if(h.errorMessage&&h.errorCode)return c(Sa.ethErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const u=h=>{if(typeof h=="number"){const f=h;this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:i,response:(0,Ce.ErrorResponse)(ae.Web3Method.switchEthereumChain,Qi.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else h instanceof Qi.WalletUIError?this.handleErrorResponse(i,ae.Web3Method.switchEthereumChain,h,h.errorCode):this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:i,response:(0,Ce.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=h=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:i,response:(0,Ce.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return it.Session.hash(this._session.id)}sendRequestStandalone(e,t){const n=s=>{this.handleErrorResponse(e,t.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,me.Web3ResponseMessage)({id:e,response:s}))};switch(t.method){case ae.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:t,onSuccess:i,onCancel:n});break;case ae.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:t,onSuccess:i,onCancel:n});break;case ae.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:t,onSuccess:i,onCancel:n});break;case ae.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Be.accountRequestCallbackIds=new Set;Ru([Nu.default],Be.prototype,"resetAndReload",null);Ru([Nu.default],Be.prototype,"handleIncomingEvent",null);ni.WalletSDKRelay=Be;var di={};Object.defineProperty(di,"__esModule",{value:!0});di.WalletSDKRelayEventManager=void 0;const ow=E;class aw{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=(0,ow.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}di.WalletSDKRelayEventManager=aw;const cw="@coinbase/wallet-sdk@^3.6.3",uw="@coinbase/wallet-sdk@3.6.5",lw=!1,fw="sha512-8F91dvvC/+CTpaNTr+FgpLMa2YxjpXpE9pdnGewMoYi41ISbiXZado5VjYo9QSZlS+myzfKvDGpTzLFFUXPfDg==",hw="/@coinbase/wallet-sdk",dw={},pw={type:"range",registry:!0,raw:"@coinbase/wallet-sdk@^3.6.3",name:"@coinbase/wallet-sdk",escapedName:"@coinbase%2fwallet-sdk",scope:"@coinbase",rawSpec:"^3.6.3",saveSpec:null,fetchSpec:"^3.6.3"},bw=["/@thirdweb-dev/wallets"],yw="https://registry.npmmirror.com/@coinbase/wallet-sdk/-/wallet-sdk-3.6.5.tgz",gw="5ca894771b4eb9cbfaf754c1422f0287329e6868",vw="@coinbase/wallet-sdk@^3.6.3",mw="D:\\TSL\\node_modules\\@thirdweb-dev\\wallets",ww={name:"Coinbase, Inc."},Sw={url:"https://github.com/coinbase/coinbase-wallet-sdk/issues"},_w=!1,Ew={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},Cw=!1,kw="Coinbase Wallet JavaScript SDK",xw={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},Iw={node:">= 10.0.0"},Aw="https://github.com/coinbase/coinbase-wallet-sdk#readme",Mw=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Ow="Apache-2.0",Tw="dist/index.js",Rw="@coinbase/wallet-sdk",Nw={type:"git",url:"git+https://github.com/coinbase/coinbase-wallet-sdk.git"},Lw={build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","lint:eslint":"eslint ./src --ext .ts,.tsx","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:types":"tsc --noEmit",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,"pretest:unit":"node compile-assets.js",release:"./scripts/release.sh","test:karma":"yarn build-npm && karma start","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html"},Dw="dist/index.d.ts",jw="3.6.5",Pw={_from:cw,_id:uw,_inBundle:lw,_integrity:fw,_location:hw,_phantomChildren:dw,_requested:pw,_requiredBy:bw,_resolved:yw,_shasum:gw,_spec:vw,_where:mw,author:ww,bugs:Sw,bundleDependencies:_w,dependencies:Ew,deprecated:Cw,description:kw,devDependencies:xw,engines:Iw,homepage:Aw,keywords:Mw,license:Ow,main:Tw,name:Rw,repository:Nw,scripts:Lw,types:Dw,version:jw};Object.defineProperty(Er,"__esModule",{value:!0});Er.CoinbaseWalletSDK=void 0;const Bw=Cn,Fw=kn,$w=Gt,Ww=$n,Uw=ni,Hw=di,Vw=E,zw={}.LINK_API_URL||"https://www.walletlink.org",Lu={}.SDK_VERSION||Pw.version||"unknown";class pi{constructor(e){var t,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||zw;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new Ww.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(t=e.overrideIsCoinbaseWallet)!==null&&t!==void 0?t:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new Fw.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",pi.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new Hw.WalletSDKRelayEventManager,this._relay=new Uw.WalletSDKRelay({linkAPIUrl:s,version:Lu,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",t=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,t),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new $w.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var n;this._appName=e||"DApp",this._appLogoUrl=t||(0,Vw.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const t=this.walletExtension;t?t.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,t;return(t=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&t!==void 0?t:null}getCoinbaseWalletLogo(e,t=240){return(0,Bw.walletLogo)(e,t)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(t=window.top)===null||t===void 0?void 0:t.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Er.CoinbaseWalletSDK=pi;pi.VERSION=Lu;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CoinbaseWalletProvider=r.CoinbaseWalletSDK=void 0;const e=Er,t=Gt;var n=Er;Object.defineProperty(r,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Gt;Object.defineProperty(r,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),r.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=t.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=t.CoinbaseWalletProvider)})(ys);const qw=Hu(ys),s2=qu({__proto__:null,default:qw},[ys]);export{s2 as i};
